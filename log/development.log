

Started GET "/" for 127.0.0.1 at 2014-01-14 09:05:37 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.8ms)
  Rendered layouts/_navigation_links.html.haml (16.0ms)
  Rendered layouts/_navigation.html.haml (21.5ms)
  Rendered layouts/_messages.html.haml (2.9ms)
Completed 200 OK in 1423ms (Views: 1350.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:05:42 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.haml (5.5ms)
  Rendered layouts/_navigation.html.haml (10.7ms)
  Rendered layouts/_messages.html.haml (2.8ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:05:44 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 57ms (Views: 56.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:05:44 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 09:05:44 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (547.0ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 595ms (Views: 584.5ms | ActiveRecord: 0.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:05:46 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.1ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (49.3ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 73.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:05:47 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:05:50 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 09:05:51 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:05:52 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 65ms (Views: 62.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:05:53 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 09:05:54 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:05:55 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:06:02 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6Ucin9w6q67GP9jXo9coHu/bzpWjWmmVbCVroNs6aq4=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
Completed 401 Unauthorized in 169ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6Ucin9w6q67GP9jXo9coHu/bzpWjWmmVbCVroNs6aq4=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.haml (0.4ms)
  Rendered layouts/_navigation.html.haml (1.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 152ms (Views: 20.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:06:07 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 09:06:48 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:06:51 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:06:51 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:07:05 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (5.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 23.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 09:07:05 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:07:06 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 20.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:07:07 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (27.6ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (5.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (178.1ms)[0m  [1mUPDATE "users" SET "encrypted_password" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["encrypted_password", "$2a$10$HKEmrzEQuXzhELRfjQOKfegoTCP89BrKVjnxNqGW4K9YtZdziGBlO"], ["updated_at", Tue, 14 Jan 2014 09:12:32 MSK +04:00]]
  [1m[35m (140.3ms)[0m  commit transaction


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:13:15 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:13:23 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6Ucin9w6q67GP9jXo9coHu/bzpWjWmmVbCVroNs6aq4=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (59.2ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["last_sign_in_at", Mon, 23 Dec 2013 14:12:50 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 09:13:23 MSK +04:00], ["sign_in_count", 10], ["updated_at", Tue, 14 Jan 2014 09:13:23 MSK +04:00]]
  [1m[35m (126.2ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 366ms (ActiveRecord: 186.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:13:23 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (232.3ms)
  Rendered layouts/_navigation.html.haml (233.5ms)
  Rendered layouts/_messages.html.haml (0.6ms)
Completed 200 OK in 248ms (Views: 246.1ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:13:26 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.1ms)
  Rendered layouts/_navigation.html.haml (6.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:13:27 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.7ms)
  Rendered layouts/_navigation.html.haml (6.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 57ms (Views: 55.8ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:13:28 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (23.1ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (57.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 108ms (Views: 86.3ms | ActiveRecord: 2.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:13:34 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (9.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 43.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:13:36 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.4ms)
  Rendered layouts/_navigation.html.haml (5.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:14:35 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.4ms)
  Rendered layouts/_navigation.html.haml (5.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:14:36 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.4ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:14:37 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 48ms (Views: 47.1ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:14:37 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 27.4ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:14:39 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.3ms)
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.5ms)
  Rendered users/index.html.haml within layouts/application (15.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 30.1ms | ActiveRecord: 1.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:15:29 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:15:34 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (9.6ms)
  Rendered layouts/_navigation.html.haml (11.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 38.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:15:35 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.2ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:15:36 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.3ms)
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.5ms)
  Rendered users/index.html.haml within layouts/application (15.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 30.4ms | ActiveRecord: 1.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:18:03 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.3ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (15.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 109ms (Views: 103.5ms | ActiveRecord: 1.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:18:06 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (15.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (28.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 50ms (Views: 44.0ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:18:07 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (16.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 32.9ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:18:07 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.9ms)
  Rendered users/index.html.haml within layouts/application (18.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 33.8ms | ActiveRecord: 1.8ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:18:37 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (6.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:23:58 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (397.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (72.7ms)
  Rendered layouts/_navigation.html.haml (73.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 531ms (Views: 485.8ms | ActiveRecord: 8.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:23:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (6.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.3ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:24:23 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (323.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (12.3ms)
  Rendered layouts/_navigation.html.haml (13.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 423ms (Views: 357.9ms | ActiveRecord: 2.1ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:24:37 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (7.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:25:22 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (311.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (11.8ms)
  Rendered layouts/_navigation.html.haml (12.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 377ms (Views: 338.9ms | ActiveRecord: 1.8ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:25:50 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (12.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 31.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:25:58 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 32.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:25:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (11.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.2ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:26:23 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (12.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 32.3ms | ActiveRecord: 0.5ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:26:26 +0400
Processing by Devise::SessionsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:26:26 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.8ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.4ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:26:31 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:26:32 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:26:33 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 61ms (Views: 59.0ms | ActiveRecord: 0.4ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:27:11 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 31.1ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:27:12 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.3ms)
  Rendered layouts/_navigation.html.haml (6.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 63ms (Views: 59.4ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:27:13 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.4ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 09:27:25 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"q8x4Ew0Bk6WLkJH9PrDp5O9fZ2yK2uNRYJolzjCOgvM=", "user"=>{"name"=>"Администраторр", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered devise/registrations/edit.html.haml within layouts/application (6.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 236ms (Views: 26.4ms | ActiveRecord: 0.8ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 09:27:35 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"q8x4Ew0Bk6WLkJH9PrDp5O9fZ2yK2uNRYJolzjCOgvM=", "user"=>{"name"=>"Администраторр", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["name", "Администраторр"], ["updated_at", Tue, 14 Jan 2014 09:27:35 MSK +04:00]]
  [1m[35m (123.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 232ms (ActiveRecord: 124.2ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:27:35 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.7ms)
  Rendered layouts/_navigation.html.haml (6.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:27:38 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (10.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 31.6ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 09:27:46 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"q8x4Ew0Bk6WLkJH9PrDp5O9fZ2yK2uNRYJolzjCOgvM=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["name", "Администратор"], ["updated_at", Tue, 14 Jan 2014 09:27:46 MSK +04:00]]
  [1m[36m (235.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 342ms (ActiveRecord: 236.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:27:46 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:27:48 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (34.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 64ms (Views: 51.5ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:27:50 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (8.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (26.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 50ms (Views: 43.6ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:28:30 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.4ms)
  Rendered users/index.html.haml within layouts/application (25.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 50ms (Views: 42.2ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:28:37 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.4ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (8.4ms)
  Rendered users/index.html.haml within layouts/application (27.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 58ms (Views: 51.0ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:28:48 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.6ms)
  Rendered users/index.html.haml within layouts/application (82.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.4ms)
  Rendered layouts/_navigation.html.haml (6.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 124ms (Views: 106.8ms | ActiveRecord: 2.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:29:01 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (25.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 81ms (Views: 43.1ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:29:13 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (24.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 49ms (Views: 41.3ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:29:25 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (7.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (1.1ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (32.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 71ms (Views: 48.6ms | ActiveRecord: 10.0ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 09:29:32 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"q8x4Ew0Bk6WLkJH9PrDp5O9fZ2yK2uNRYJolzjCOgvM=", "user"=>{"role_ids"=>"2"}, "commit"=>"Change Role", "id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
Completed 500 Internal Server Error in 7ms

ArgumentError - wrong number of arguments (2 for 1):
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__538209426532033050__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/33907360/variables" for 127.0.0.1 at 2014-01-14 09:29:32 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:30:08 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (16.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 31.5ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:30:31 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.1ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (24.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (34.4ms)
  Rendered layouts/_navigation.html.haml (35.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 81ms (Views: 72.2ms | ActiveRecord: 2.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:33:00 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.9ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (20.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 43ms (Views: 36.2ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:33:01 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (16.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (2.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 31.1ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:33:07 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (31.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 72ms (Views: 54.2ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:33:08 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (9.0ms)
  Rendered users/index.html.haml within layouts/application (28.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 55ms (Views: 47.9ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:33:19 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.9ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (21.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 49ms (Views: 42.0ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:36:02 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (25.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 71ms (Views: 60.9ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:36:08 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (4.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (8.9ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (6.0ms)
  Rendered users/index.html.haml within layouts/application (133.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (17.6ms)
  Rendered layouts/_navigation.html.haml (18.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 198ms (Views: 171.6ms | ActiveRecord: 5.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:36:17 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (32.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 123ms (Views: 105.1ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:36:25 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.6ms)
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (20.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 43ms (Views: 36.6ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:36:35 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:36:35 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (6.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 29ms (Views: 26.9ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:36:36 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.8ms)
  Rendered users/index.html.haml within layouts/application (24.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 83ms (Views: 76.7ms | ActiveRecord: 1.7ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:36:37 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 28.5ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:36:38 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (16.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 40ms (Views: 34.3ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:36:39 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 09:36:40 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"q8x4Ew0Bk6WLkJH9PrDp5O9fZ2yK2uNRYJolzjCOgvM="}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 54ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:36:40 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:36:42 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 19ms (Views: 18.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 09:36:43 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 35.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 09:37:02 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QCcE2oz3AQ3ShGBkXNV0i0YfytbTJ0Q17NLwGcQV0J4=", "user"=>{"name"=>"test1", "email"=>"test1@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'test1@mail.com' LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (22.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "name", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 09:37:02 MSK +04:00], ["email", "test1@mail.com"], ["encrypted_password", "$2a$10$4CEGMPm2avbcDfcqD/rG1O2XllDK3b9S3RG/w1nhN5dHVSsSEypnK"], ["name", "test1"], ["updated_at", Tue, 14 Jan 2014 09:37:02 MSK +04:00]]
  [1m[35m (132.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `last_sign_in_ip`
Binary data inserted for `string` type on column `current_sign_in_ip`
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 4  [["last_sign_in_at", Tue, 14 Jan 2014 09:37:02 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 09:37:02 MSK +04:00], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", Tue, 14 Jan 2014 09:37:02 MSK +04:00]]
  [1m[36m (104.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 402ms (ActiveRecord: 260.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:37:02 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 4]]
  Rendered layouts/_navigation_links.html.haml (5.3ms)
  Rendered layouts/_navigation.html.haml (6.6ms)
  Rendered layouts/_messages.html.haml (0.5ms)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:37:06 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (6.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 4]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:37:10 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 4]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 09:37:11 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QCcE2oz3AQ3ShGBkXNV0i0YfytbTJ0Q17NLwGcQV0J4="}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:37:11 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.5ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:37:13 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.4ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (21.8ms)
  Rendered layouts/_navigation_links.html.haml (6.3ms)
  Rendered layouts/_navigation.html.haml (7.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 67ms (Views: 64.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 09:37:19 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TaasXkHePUt5U6XEIfo7/FEKlKqP/aMIOXqAvW//iLc=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["last_sign_in_at", Tue, 14 Jan 2014 09:13:23 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 09:37:19 MSK +04:00], ["sign_in_count", 11], ["updated_at", Tue, 14 Jan 2014 09:37:19 MSK +04:00]]
  [1m[35m (138.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 246ms (ActiveRecord: 139.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:37:19 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.2ms)
  Rendered layouts/_navigation.html.haml (6.6ms)
  Rendered layouts/_messages.html.haml (1.9ms)
Completed 200 OK in 60ms (Views: 58.1ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:37:21 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 4]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.3ms)
  Rendered users/index.html.haml within layouts/application (24.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 47ms (Views: 41.4ms | ActiveRecord: 2.1ms)


Started PUT "/users/4" for 127.0.0.1 at 2014-01-14 09:37:27 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"91VpTRhX/Mmmx4jNDARnITmh/lWv5HSMZHcNj4B3VYc=", "user"=>{"role_ids"=>"2"}, "commit"=>"Change Role", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "4"]]
Completed 500 Internal Server Error in 7ms

ArgumentError - wrong number of arguments (2 for 1):
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__538209426532033050__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/24545400/variables" for 127.0.0.1 at 2014-01-14 09:37:27 +0400


Started DELETE "/users/4" for 127.0.0.1 at 2014-01-14 09:37:33 +0400
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"91VpTRhX/Mmmx4jNDARnITmh/lWv5HSMZHcNj4B3VYc=", "id"=>"4"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  DELETE FROM "users_roles" WHERE "users_roles"."user_id" = 4
  [1m[36mSQL (8.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 4]]
  [1m[35m (134.9ms)[0m  commit transaction
Redirected to http://localhost:3000/users
Completed 302 Found in 154ms (ActiveRecord: 144.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:37:33 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  Rendered users/index.html.haml within layouts/application (18.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 44ms (Views: 37.7ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:37:34 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (16.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 33.2ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:38:11 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  Rendered users/index.html.haml within layouts/application (22.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 39.7ms | ActiveRecord: 1.8ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 09:38:13 +0400
Processing by RegistrationsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:38:13 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.7ms)
  Rendered layouts/_navigation.html.haml (6.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 58ms (Views: 57.0ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:38:15 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (22.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 44ms (Views: 38.7ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:39:10 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 09:39:11 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (6.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.4ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 09:39:12 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:39:13 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.7ms)
  Rendered users/index.html.haml within layouts/application (18.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 35.2ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:39:30 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (58.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 82ms (Views: 75.2ms | ActiveRecord: 1.8ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 09:39:45 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"91VpTRhX/Mmmx4jNDARnITmh/lWv5HSMZHcNj4B3VYc=", "user"=>{"role_ids"=>"2"}, "commit"=>"Change Role", "id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
Completed 500 Internal Server Error in 8ms

ArgumentError - wrong number of arguments (2 for 1):
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__538209426532033050__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/28804760/variables" for 127.0.0.1 at 2014-01-14 09:39:45 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:44:14 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (35.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (2.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 249ms (Views: 49.6ms | ActiveRecord: 3.5ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 09:44:19 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"91VpTRhX/Mmmx4jNDARnITmh/lWv5HSMZHcNj4B3VYc=", "user"=>{"role_ids"=>"2"}, "commit"=>"Change Role", "id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
Completed 500 Internal Server Error in 10ms

ArgumentError - wrong number of arguments (2 for 1):
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__538209426532033050__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/35759420/variables" for 127.0.0.1 at 2014-01-14 09:44:20 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:45:07 +0400

RuntimeError - `attr_accessible` is extracted out of Rails into a gem. Please use new recommended protection model for params(strong_parameters) or add `protected_attributes` to your Gemfile to use old one.:
  activemodel (4.0.0) lib/active_model/deprecated_mass_assignment_security.rb:17:in `attr_accessible'
  app/models/user.rb:9:in `<class:User>'
  app/models/user.rb:2:in `<top (required)>'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.0) lib/active_support/dependencies.rb:534:in `get'
  activesupport (4.0.0) lib/active_support/dependencies.rb:565:in `constantize'
  devise (3.2.2) lib/devise.rb:297:in `get'
  devise (3.2.2) lib/devise/mapping.rb:77:in `to'
  devise (3.2.2) lib/devise/mapping.rb:72:in `modules'
  devise (3.2.2) lib/devise/mapping.rb:89:in `routes'
  devise (3.2.2) lib/devise/mapping.rb:156:in `default_used_route'
  devise (3.2.2) lib/devise/mapping.rb:66:in `initialize'
  devise (3.2.2) lib/devise.rb:331:in `add_mapping'
  devise (3.2.2) lib/devise/rails/routes.rb:218:in `block in devise_for'
  devise (3.2.2) lib/devise/rails/routes.rb:217:in `devise_for'
  config/routes.rb:4:in `block in <top (required)>'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:316:in `eval_block'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:294:in `draw'
  config/routes.rb:2:in `<top (required)>'
  activesupport (4.0.0) lib/active_support/dependencies.rb:222:in `block in load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:213:in `load_dependency'
  activesupport (4.0.0) lib/active_support/dependencies.rb:222:in `load'
  railties (4.0.0) lib/rails/application/routes_reloader.rb:40:in `block in load_paths'
  railties (4.0.0) lib/rails/application/routes_reloader.rb:40:in `load_paths'
  railties (4.0.0) lib/rails/application/routes_reloader.rb:16:in `reload!'
  railties (4.0.0) lib/rails/application/routes_reloader.rb:26:in `block in updater'
  activesupport (4.0.0) lib/active_support/file_update_checker.rb:75:in `execute'
  railties (4.0.0) lib/rails/application/routes_reloader.rb:7:in `execute'
  railties (4.0.0) lib/rails/application/finisher.rb:81:in `block (2 levels) in <module:Finisher>'
  activesupport (4.0.0) lib/active_support/callbacks.rb:407:in `_run__3967362625833090719__prepare__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:74:in `prepare!'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:62:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/28692300/variables" for 127.0.0.1 at 2014-01-14 09:45:07 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:45:13 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (33.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 150ms (Views: 50.2ms | ActiveRecord: 3.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:46:40 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  Rendered users/index.html.haml within layouts/application (35.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 152ms (Views: 50.8ms | ActiveRecord: 3.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:46:42 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (16.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 61.9ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:46:43 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.1ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (18.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 33.8ms | ActiveRecord: 1.9ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 09:46:47 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"91VpTRhX/Mmmx4jNDARnITmh/lWv5HSMZHcNj4B3VYc=", "user"=>{"role_ids"=>"2"}, "commit"=>"Change Role", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 9ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:29:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__538209426532033050__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/34636440/variables" for 127.0.0.1 at 2014-01-14 09:46:47 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:49:23 +0400

SyntaxError - /home/nikita/mem/fileapp/app/controllers/users_controller.rb:19: syntax error, unexpected tIDENTIFIER, expecting ')'
      redirect_to users_path, :notice => "User updated."
                 ^
/home/nikita/mem/fileapp/app/controllers/users_controller.rb:37: syntax error, unexpected keyword_end, expecting $end:
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.0) lib/active_support/dependencies.rb:534:in `get'
  activesupport (4.0.0) lib/active_support/dependencies.rb:565:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/35245620/variables" for 127.0.0.1 at 2014-01-14 09:49:23 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:49:24 +0400

SyntaxError - /home/nikita/mem/fileapp/app/controllers/users_controller.rb:19: syntax error, unexpected tIDENTIFIER, expecting ')'
      redirect_to users_path, :notice => "User updated."
                 ^
/home/nikita/mem/fileapp/app/controllers/users_controller.rb:37: syntax error, unexpected keyword_end, expecting $end:
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.0) lib/active_support/dependencies.rb:534:in `get'
  activesupport (4.0.0) lib/active_support/dependencies.rb:565:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/29271700/variables" for 127.0.0.1 at 2014-01-14 09:49:24 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:49:56 +0400

SyntaxError - /home/nikita/mem/fileapp/app/controllers/users_controller.rb:37: syntax error, unexpected keyword_end, expecting $end:
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.0) lib/active_support/dependencies.rb:534:in `get'
  activesupport (4.0.0) lib/active_support/dependencies.rb:565:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/34020120/variables" for 127.0.0.1 at 2014-01-14 09:49:56 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:49:57 +0400

SyntaxError - /home/nikita/mem/fileapp/app/controllers/users_controller.rb:37: syntax error, unexpected keyword_end, expecting $end:
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.0) lib/active_support/dependencies.rb:534:in `get'
  activesupport (4.0.0) lib/active_support/dependencies.rb:565:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/25484540/variables" for 127.0.0.1 at 2014-01-14 09:49:57 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:49:58 +0400

SyntaxError - /home/nikita/mem/fileapp/app/controllers/users_controller.rb:37: syntax error, unexpected keyword_end, expecting $end:
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.0) lib/active_support/dependencies.rb:534:in `get'
  activesupport (4.0.0) lib/active_support/dependencies.rb:565:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/27497360/variables" for 127.0.0.1 at 2014-01-14 09:49:58 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:50:19 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (10.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.3ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  Rendered users/index.html.haml within layouts/application (64.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 288ms (Views: 137.9ms | ActiveRecord: 25.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:51:02 +0400

SyntaxError - /home/nikita/mem/fileapp/app/controllers/users_controller.rb:37: syntax error, unexpected keyword_end, expecting $end:
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.0) lib/active_support/dependencies.rb:534:in `get'
  activesupport (4.0.0) lib/active_support/dependencies.rb:565:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/31815500/variables" for 127.0.0.1 at 2014-01-14 09:51:02 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:59:38 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (34.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 248ms (Views: 113.8ms | ActiveRecord: 15.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:59:40 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.1ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (17.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 33.3ms | ActiveRecord: 2.2ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 09:59:45 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"91VpTRhX/Mmmx4jNDARnITmh/lWv5HSMZHcNj4B3VYc=", "user"=>{"role_ids"=>"2"}, "commit"=>"Change Role", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 18ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__538209426532033050__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/32471160/variables" for 127.0.0.1 at 2014-01-14 09:59:45 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 09:59:52 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (18.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 74ms (Views: 66.9ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:04:22 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (152.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (53.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (86.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 391ms (Views: 181.9ms | ActiveRecord: 154.3ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:05:03 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (8.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (23.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 39.5ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:06:50 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (84.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 192ms (Views: 99.8ms | ActiveRecord: 20.6ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:06:55 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"91VpTRhX/Mmmx4jNDARnITmh/lWv5HSMZHcNj4B3VYc=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 8ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__538209426532033050__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/35449000/variables" for 127.0.0.1 at 2014-01-14 10:06:55 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:07:05 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.3ms)
  Rendered users/index.html.haml within layouts/application (36.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 108ms (Views: 52.3ms | ActiveRecord: 3.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:07:15 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.2ms)
  Rendered layouts/_navigation.html.haml (6.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:07:16 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 35.3ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:07:17 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (8.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (27.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 48ms (Views: 42.6ms | ActiveRecord: 1.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 10:07:18 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"91VpTRhX/Mmmx4jNDARnITmh/lWv5HSMZHcNj4B3VYc="}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:07:18 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 10:07:20 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (13.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 58ms (Views: 55.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 10:07:25 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"a0ZDlEpPt+Y7t3zBf5+ZUS2bk7GGIdLE+gIegMVVUDM=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (15.0ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 09:37:19 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 10:07:25 MSK +04:00], ["sign_in_count", 12], ["updated_at", Tue, 14 Jan 2014 10:07:25 MSK +04:00]]
  [1m[36m (230.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 370ms (ActiveRecord: 246.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:07:26 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:07:27 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.3ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (18.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 35.7ms | ActiveRecord: 1.7ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:07:31 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 10ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__538209426532033050__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3590336785971423236__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/31876700/variables" for 127.0.0.1 at 2014-01-14 10:07:31 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:11:04 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (19.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (475.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.7ms)
  Rendered layouts/_navigation.html.haml (10.6ms)
  Rendered layouts/_messages.html.haml (2.8ms)
Completed 200 OK in 1317ms (Views: 856.9ms | ActiveRecord: 3.7ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:11:09 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
WARNING: Can't mass-assign protected attributes for User: role_ids
	app/controllers/users_controller.rb:17:in `update'
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 68ms (ActiveRecord: 0.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:11:09 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (16.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 38ms (Views: 31.2ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:11:11 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.4ms)
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (16.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 67ms (Views: 61.0ms | ActiveRecord: 1.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:11:13 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.1ms)
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (17.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 34.7ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:11:13 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.7ms)
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (17.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 33.0ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:11:14 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (17.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 43ms (Views: 34.3ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:11:15 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.8ms)
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (17.4ms)
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 33.8ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:11:16 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (7.0ms)
  Rendered users/index.html.haml within layouts/application (27.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 53ms (Views: 45.9ms | ActiveRecord: 1.9ms)


Started GET "/users/3" for 127.0.0.1 at 2014-01-14 10:11:23 +0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  Rendered users/show.html.haml within layouts/application (2.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (7.1ms)
  Rendered layouts/_navigation.html.haml (12.5ms)
  Rendered layouts/_messages.html.haml (3.0ms)
Completed 200 OK in 64ms (Views: 60.5ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:11:32 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (125.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 180ms (Views: 146.5ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 10:11:38 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"name"=>"Администраторh", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
WARNING: Can't mass-assign protected attributes for User: name, email, password_confirmation

  Rendered devise/registrations/edit.html.haml within layouts/application (11.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 201ms (Views: 30.3ms | ActiveRecord: 0.7ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 10:11:47 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes for User: name, email

  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 112ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:11:47 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.1ms)
  Rendered layouts/_navigation.html.haml (6.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:11:49 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.2ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:12:00 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:12:02 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:12:03 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 28.3ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:12:10 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (14.4ms)
  Rendered layouts/_navigation.html.haml (15.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 37.4ms | ActiveRecord: 2.0ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 10:12:21 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"name"=>"Администраторh", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes for User: name, email

  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 113ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:12:22 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.5ms)
  Rendered layouts/_navigation.html.haml (10.6ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 26ms (Views: 24.5ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:12:24 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:13:00 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (402.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (170.1ms)
  Rendered layouts/_navigation.html.haml (175.9ms)
  Rendered layouts/_messages.html.haml (2.9ms)
Completed 200 OK in 905ms (Views: 795.3ms | ActiveRecord: 1.9ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 10:13:08 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"name"=>"Администраторh", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (6.4ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["name", "Администраторh"], ["updated_at", Tue, 14 Jan 2014 10:13:08 MSK +04:00]]
  [1m[35m (180.3ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 350ms (ActiveRecord: 187.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:13:08 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.8ms)
  Rendered layouts/_navigation.html.haml (7.3ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 33ms (Views: 30.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:13:10 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (10.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (6.3ms)
  Rendered layouts/_navigation.html.haml (11.6ms)
  Rendered layouts/_messages.html.haml (2.7ms)
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.4ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:13:11 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (34.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 57ms (Views: 54.3ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 10:13:21 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["name", "Администратор"], ["updated_at", Tue, 14 Jan 2014 10:13:21 MSK +04:00]]
  [1m[36m (121.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 226ms (ActiveRecord: 122.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:13:21 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.8ms)
  Rendered layouts/_navigation.html.haml (6.1ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 70ms (Views: 68.7ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:13:22 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (10.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (45.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 70ms (Views: 61.0ms | ActiveRecord: 2.1ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:13:26 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
Completed 500 Internal Server Error in 37ms

ArgumentError - wrong number of arguments (2 for 1):
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__567006862685966209__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1065924767933584378__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/43382440/variables" for 127.0.0.1 at 2014-01-14 10:13:26 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:13:28 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (7.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (26.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (2.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 48ms (Views: 40.9ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:18:38 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.1ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.3ms)
  Rendered users/index.html.haml within layouts/application (39.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 163ms (Views: 54.2ms | ActiveRecord: 4.0ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:18:42 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
Completed 500 Internal Server Error in 10ms

ArgumentError - wrong number of arguments (2 for 1):
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__567006862685966209__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1065924767933584378__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/42893900/variables" for 127.0.0.1 at 2014-01-14 10:18:42 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:19:38 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (81.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 205ms (Views: 114.1ms | ActiveRecord: 15.3ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:19:42 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
Completed 500 Internal Server Error in 6ms

ArgumentError - wrong number of arguments (2 for 1):
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__567006862685966209__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1065924767933584378__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/42820020/variables" for 127.0.0.1 at 2014-01-14 10:19:42 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:19:53 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  Rendered users/index.html.haml within layouts/application (38.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 108ms (Views: 53.4ms | ActiveRecord: 3.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:19:54 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.5ms)
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (18.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 33.6ms | ActiveRecord: 1.8ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:19:59 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 12ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__567006862685966209__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1065924767933584378__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/42113560/variables" for 127.0.0.1 at 2014-01-14 10:20:00 +0400


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:20:03 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 9ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__567006862685966209__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1065924767933584378__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/30776220/variables" for 127.0.0.1 at 2014-01-14 10:20:04 +0400


Started GET "/" for 127.0.0.1 at 2014-01-14 10:22:48 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 34.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:23:09 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (49.0ms)
  Rendered layouts/_navigation.html.haml (50.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 70ms (Views: 62.3ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:23:11 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (37.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 62ms (Views: 53.0ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:23:12 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (17.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 33.6ms | ActiveRecord: 1.7ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:23:16 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (3.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 12ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__567006862685966209__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1065924767933584378__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/42854600/variables" for 127.0.0.1 at 2014-01-14 10:23:16 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:33:50 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (11.1ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (385.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.8ms)
  Rendered layouts/_navigation.html.haml (11.1ms)
  Rendered layouts/_messages.html.haml (2.8ms)
Completed 200 OK in 1007ms (Views: 714.5ms | ActiveRecord: 3.5ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 10:33:56 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 8ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__99266086317638598__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3156188979955278675__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/42257580/variables" for 127.0.0.1 at 2014-01-14 10:33:56 +0400


Started GET "/" for 127.0.0.1 at 2014-01-14 10:33:59 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (8.1ms)
  Rendered layouts/_navigation.html.haml (13.3ms)
  Rendered layouts/_messages.html.haml (2.7ms)
Completed 200 OK in 33ms (Views: 31.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:34:03 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (71.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 99ms (Views: 92.3ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:34:05 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (8.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (41.8ms)
  Rendered users/index.html.haml within layouts/application (65.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 87ms (Views: 81.6ms | ActiveRecord: 1.9ms)


Started GET "/users/3" for 127.0.0.1 at 2014-01-14 10:34:07 +0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  Rendered users/show.html.haml within layouts/application (2.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 20.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:34:09 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.4ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:34:10 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:34:11 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.5ms)
  Rendered users/index.html.haml within layouts/application (16.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 31.5ms | ActiveRecord: 1.7ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:34:15 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.7ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 10:34:21 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"name"=>"Администраторh", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered devise/registrations/edit.html.haml within layouts/application (11.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 204ms (Views: 31.3ms | ActiveRecord: 0.7ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 10:34:30 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"name"=>"Администраторh", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (13.0ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["name", "Администраторh"], ["updated_at", Tue, 14 Jan 2014 10:34:30 MSK +04:00]]
  [1m[35m (138.8ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 258ms (ActiveRecord: 152.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:34:30 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.8ms)
  Rendered layouts/_navigation.html.haml (6.0ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:34:32 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.8ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 10:34:38 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["name", "Администратор"], ["updated_at", Tue, 14 Jan 2014 10:34:38 MSK +04:00]]
  [1m[36m (132.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 237ms (ActiveRecord: 133.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:34:39 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:34:40 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (6.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:34:41 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (6.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (5.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 28.4ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:34:41 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (17.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 33.5ms | ActiveRecord: 1.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 10:34:44 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ejo4V5VjSfj3AeRHfctA/MWGVhObO4USuuTnpx4avpg="}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 60ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:34:44 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  Rendered layouts/_navigation_links.html.haml (13.3ms)
  Rendered layouts/_navigation.html.haml (14.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 29ms (Views: 28.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:34:46 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:34:46 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.0ms)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" ORDER BY "roles"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (18.6ms)[0m  UPDATE "roles" SET "name" = ?, "updated_at" = ? WHERE "roles"."id" = 3  [["name", "moderator"], ["updated_at", Tue, 14 Jan 2014 10:35:44 MSK +04:00]]
  [1m[36m (226.6ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:29 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (34.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 49ms (Views: 47.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:30 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 10:36:32 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (7.6ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 10:36:32 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 10:36:33 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:34 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:34 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 48ms (Views: 47.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 10:36:35 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:36 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 10:36:37 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.4ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (88.8ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 134ms (Views: 131.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 10:36:43 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZpaaeAkLcOk16efKPto6jFsC80JnM54AJAK5U48T4yU=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 10:07:25 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 10:36:43 MSK +04:00], ["sign_in_count", 13], ["updated_at", Tue, 14 Jan 2014 10:36:43 MSK +04:00]]
  [1m[36m (122.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 240ms (ActiveRecord: 123.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:43 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:45 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.4ms)
  Rendered layouts/_navigation.html.haml (5.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:45 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.4ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:36:46 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:47 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (47.5ms)
Completed 200 OK in 69ms (Views: 67.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:48 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:36:49 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.4ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT 1
DEPRECATION WARNING: This dynamic method is deprecated. Please use e.g. Post.find_or_create_by(name: 'foo') instead. (called from irb_binding at (irb):15)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'user' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (11.0ms)[0m  SELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 2 LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "users_roles" ("user_id", "role_id") VALUES (3, 2)[0m
  [1m[35m (237.6ms)[0m  commit transaction


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:39:45 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.3ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (16.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 31.4ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:39:46 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.3ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (16.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (2.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 30.5ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:56:51 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (38.8ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (337.5ms)
  Rendered layouts/_navigation.html.haml (343.3ms)
  Rendered layouts/_messages.html.haml (2.8ms)
Completed 200 OK in 1196ms (Views: 923.2ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:56:53 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.2ms)
  Rendered layouts/_navigation.html.haml (43.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 59ms (Views: 57.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:57:07 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (5.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:57:08 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (477.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 538ms (Views: 511.4ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:57:09 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (24.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (175.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 223ms (Views: 204.1ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:57:10 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.4ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.4ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 10:57:31 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 10:57:32 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (17.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 32.5ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:57:34 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.4ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:57:39 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.3ms)
  Rendered layouts/_navigation.html.haml (7.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 10:57:40 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (6.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:00 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (4.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (8.8ms)
  Rendered layouts/_navigation.html.haml (14.1ms)
  Rendered layouts/_messages.html.haml (3.0ms)
Completed 200 OK in 38ms (Views: 36.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:08 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (3.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.6ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:09 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:10 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:28 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (5.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 11:00:30 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"W92T9nYa7xW3z4mmGvMf7Z5x5t7Fc6ml0MJsC+d4zow="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 22ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:30 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (12.9ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 31ms (Views: 29.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:31 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 22.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:52 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (2.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:00:56 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 21.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:00:58 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (41.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 85ms (Views: 82.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:01:05 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P/RxKbwD5VDjylWpEcT7gYHvRyAuDXKfBvo2xshpDRs=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (18.6ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["last_sign_in_at", Tue, 14 Jan 2014 10:36:43 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 11:01:05 MSK +04:00], ["sign_in_count", 14], ["updated_at", Tue, 14 Jan 2014 11:01:05 MSK +04:00]]
  [1m[35m (139.2ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 362ms (ActiveRecord: 158.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:01:05 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:01:10 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:06:46 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (69.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (105.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 184ms (Views: 80.5ms | ActiveRecord: 69.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:09 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (4.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:10 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:19 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:20 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:26 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (5.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:30 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (5.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:36 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (4.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:08:37 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  Rendered users/index.html.haml within layouts/application (40.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 70.2ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:38 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 11:08:42 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"57sWFTO0/hcHX0S34OMzoD6ScX67Dn52qck5Pq7MyDE="}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:42 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:08:43 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:09:47 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:09:48 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:09:50 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (8.4ms)
  Rendered layouts/_navigation_links.html.haml (34.1ms)
  Rendered layouts/_navigation.html.haml (35.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 72ms (Views: 70.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:09:52 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:12:15 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 26.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:12:16 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:13:17 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 62ms (Views: 60.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:13:29 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
Completed 200 OK in 68ms (Views: 67.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:13:31 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
Completed 200 OK in 25ms (Views: 24.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:13:32 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:14:19 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 24.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:14:20 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:14:30 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:14:31 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:15:06 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 25.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:15:07 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:15:08 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 54ms (Views: 53.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:15:08 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (8.4ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 31.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:15:25 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:15:50 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:09 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:10 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:13 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:16:14 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:16 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:17 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:17 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:16:18 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:16:18 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.3ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (13.2ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 86ms (Views: 82.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:20 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:41 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:16:42 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:17:20 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 25.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:17:21 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:17:22 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:19:26 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (6.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:19:31 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (6.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:20:01 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:20:02 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:20:07 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:20:40 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:21:00 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (6.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 28.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:21:02 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.7ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:21:02 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:21:15 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (33.6ms)
  Rendered layouts/_navigation.html.haml (41.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 58ms (Views: 57.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:21:26 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 29.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:21:48 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (7.7ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:21:49 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.7ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:23:30 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:24:16 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 25.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:24:18 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:25:12 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:25:13 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 34.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:25:32 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KV5Ol3rKRBJsYcyiVcadVJuvNmPQqI2hbjKDEd6r4QI=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (11.9ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 11:01:05 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 11:25:32 MSK +04:00], ["sign_in_count", 15], ["updated_at", Tue, 14 Jan 2014 11:25:32 MSK +04:00]]
  [1m[36m (117.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 254ms (ActiveRecord: 130.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:25:32 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:25:48 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (3.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 26.7ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 11:25:49 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"YcKxxkoFXXSWEmypmtpaT//yF9laUBiIZwTBZXt7cQw="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:25:49 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:25:54 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:26:01 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MN9qqiu4Bq4qeitmcamdzq1GYOd4ojroXj+ZiWSPAqM=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 95ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MN9qqiu4Bq4qeitmcamdzq1GYOd4ojroXj+ZiWSPAqM=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.haml (0.4ms)
  Rendered layouts/_navigation.html.haml (1.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 361ms (Views: 20.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:26:08 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MN9qqiu4Bq4qeitmcamdzq1GYOd4ojroXj+ZiWSPAqM=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 11:25:32 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 11:26:08 MSK +04:00], ["sign_in_count", 16], ["updated_at", Tue, 14 Jan 2014 11:26:08 MSK +04:00]]
  [1m[36m (130.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 238ms (ActiveRecord: 131.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:26:08 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:26:26 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (8.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:26:27 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 19.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:26:43 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (4.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (6.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 74ms (Views: 72.1ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 11:26:52 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (7.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 76ms (Views: 72.8ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:26:53 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (4.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:27:23 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (18.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 34.1ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:28:39 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (9.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.8ms)
  Rendered users/index.html.haml within layouts/application (34.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 425ms (Views: 418.3ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:28:50 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (39.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (18.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.1ms)
Completed 200 OK in 116ms (Views: 65.2ms | ActiveRecord: 40.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:29:10 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (19.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 76ms (Views: 68.7ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:29:20 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (7.3ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (28.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.1ms)
Completed 200 OK in 137ms (Views: 126.1ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:29:36 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (19.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 110ms (Views: 68.6ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:29:40 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.1ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.0ms)
  Rendered users/index.html.haml within layouts/application (20.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.2ms)
  Rendered layouts/_navigation.html.haml (6.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 83ms (Views: 75.5ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:29:52 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.2ms)
  Rendered users/index.html.haml within layouts/application (23.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 121ms (Views: 113.6ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:29:58 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (6.2ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (58.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 148ms (Views: 139.5ms | ActiveRecord: 2.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:30:01 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (20.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 79ms (Views: 71.5ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:30:12 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (18.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 118ms (Views: 110.6ms | ActiveRecord: 2.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:30:19 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (6.0ms)
  Rendered users/index.html.haml within layouts/application (56.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.1ms)
Completed 200 OK in 119ms (Views: 107.7ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:30:34 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (17.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 76ms (Views: 69.1ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:30:43 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (20.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.1ms)
Completed 200 OK in 127ms (Views: 119.8ms | ActiveRecord: 1.9ms)


Started GET "/users/2" for 127.0.0.1 at 2014-01-14 11:30:58 +0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "2"]]
  Rendered users/show.html.haml within layouts/application (2.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 73ms (Views: 69.0ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:31:01 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:31:06 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (17.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 34.5ms | ActiveRecord: 1.7ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 11:31:06 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.8ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 30ms (Views: 27.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:31:07 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 11:31:09 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:32:18 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (26.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 50ms (Views: 42.9ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:32:19 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.3ms)
  Rendered users/index.html.haml within layouts/application (23.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 47ms (Views: 40.0ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:32:47 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.3ms)
  Rendered users/index.html.haml within layouts/application (24.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 49ms (Views: 41.2ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:32:49 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (21.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 37.9ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:32:56 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (24.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 47ms (Views: 40.6ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:33:19 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (23.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 39.8ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 11:33:21 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.8ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  Rendered users/index.html.haml within layouts/application (20.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 45ms (Views: 36.9ms | ActiveRecord: 1.9ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 11:35:36 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kBsujyV8IbgPyGg0+Fr/nxW9mOmv/c3ZUXl7x+KVd7k="}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 11:35:36 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 25ms (Views: 23.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:35:38 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.6ms)
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 32ms (Views: 30.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:36:29 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (12.3ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 32.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:36:31 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:37:25 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.4ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 30.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:37:27 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:37:37 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.4ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 30.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:37:38 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:37:44 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (42.0ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 71ms (Views: 69.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 11:37:47 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OJ35dmDaCwdKzlyeyCp44ievtiAzVtKYhFNALUczGJ8=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  Rendered devise/registrations/new.html.haml within layouts/application (22.7ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 121ms (Views: 79.4ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:38:45 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (45.5ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 66.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:39:50 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.4ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 69ms (Views: 66.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:39:52 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.3ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:40:22 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:40:24 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 61ms (Views: 58.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:40:58 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.3ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:42:35 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 11:45:44 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:45:45 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (28.6ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 69ms (Views: 66.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:45:45 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.0ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:46:02 +0400
Processing by RegistrationsController#new as HTML
ERROR: compiling _app_views_devise_registrations_new_html_haml___2870626984751349976_37595080 RAISED /home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:9: syntax error, unexpected ';', expecting ')'
));}\n</input>\n<div>\n  #{
   ^
/home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:13: unknown regexp options - dv
/home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:13: syntax error, unexpected $undefined
));}\n</div>\n<div>\n  #{
             ^
/home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:13: syntax error, unexpected $undefined
));}\n</div>\n<div>\n  #{
                    ^
Function body:           def _app_views_devise_registrations_new_html_haml___2870626984751349976_37595080(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "devise/registrations/new";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true, :hyphenate_data_attrs=>true, :cdata=>false});_erbout = _hamlout.buffer;@output_buffer = output_buffer ||= ActionView::OutputBuffer.new rescue nil;_hamlout.push_text("<h2>Регистрация</h2>\n", 0, false);
haml_temp =  form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f|
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false(( devise_error_messages!
));}\n<input#{
_hamlout.attributes({}, nil,  "class"=>"form-control", "type"=>"text", "placeholder"=> #{f.label :name})}>\n  <br>\n  #{_hamlout.adjust_tabs(1); 


_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :name
));}\n</input>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :email
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.email_field :email
));}\n</div>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :password
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :password
));}\n</div>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :password_confirmation
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :password_confirmation
));}\n</div>\n<div>#{_hamlout.format_script_false_true_false_true_false_true_false((f.submit "Зарегистрировать"
));}</div>\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper if @haml_buffer;end;
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:233:in `default_render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:161:in `to_html'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:154:in `respond'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:147:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/mime_responds.rb:330:in `respond_with'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/controllers/devise/registrations_controller.rb:8:in `new'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:443:in `_run__2131976021865581781__process_action__callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/mapper.rb:44:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__1216763966968171450__call__callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:84:in `protected_app_call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:79:in `better_errors_call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:56:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/quiet_assets-1.0.2/lib/quiet_assets.rb:18:in `call_with_quiet_assets'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered devise/registrations/new.html.haml within layouts/application (22.2ms)
Completed 500 Internal Server Error in 29ms

SyntaxError - /home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:9: syntax error, unexpected ';', expecting ')'
));}\n</input>\n<div>\n  #{
   ^
/home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:13: unknown regexp options - dv
/home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:13: syntax error, unexpected $undefined
));}\n</div>\n<div>\n  #{
             ^
/home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:13: syntax error, unexpected $undefined
));}\n</div>\n<div>\n  #{
                    ^:
  actionpack (4.0.0) lib/action_view/template.rb:299:in `'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:233:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:161:in `to_html'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:154:in `respond'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:147:in `call'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:330:in `respond_with'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:8:in `new'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__2131976021865581781__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1216763966968171450__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/37330200/variables" for 127.0.0.1 at 2014-01-14 11:46:02 +0400


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:46:12 +0400
Processing by RegistrationsController#new as HTML
ERROR: compiling _app_views_devise_registrations_new_html_haml___2870626984751349976_33118920 RAISED /home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:5: syntax error, unexpected '='
..."=>"text", "placeholder"=>"#{ =f.label :name}")}>\n  <br>\n ...
...                               ^
Function body:           def _app_views_devise_registrations_new_html_haml___2870626984751349976_33118920(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "devise/registrations/new";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true, :hyphenate_data_attrs=>true, :cdata=>false});_erbout = _hamlout.buffer;@output_buffer = output_buffer ||= ActionView::OutputBuffer.new rescue nil;_hamlout.push_text("<h2>Регистрация</h2>\n", 0, false);
haml_temp =  form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f|
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false(( devise_error_messages!
));}\n<input#{
_hamlout.attributes({}, nil,  "class"=>"form-control", "type"=>"text", "placeholder"=>"#{ =f.label :name}")}>\n  <br>\n  #{_hamlout.adjust_tabs(1); 


_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :name
));}\n</input>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :email
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.email_field :email
));}\n</div>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :password
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :password
));}\n</div>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :password_confirmation
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :password_confirmation
));}\n</div>\n<div>#{_hamlout.format_script_false_true_false_true_false_true_false((f.submit "Зарегистрировать"
));}</div>\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper if @haml_buffer;end;
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:233:in `default_render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:161:in `to_html'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:154:in `respond'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:147:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/mime_responds.rb:330:in `respond_with'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/controllers/devise/registrations_controller.rb:8:in `new'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:443:in `_run__2131976021865581781__process_action__callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/mapper.rb:44:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__1216763966968171450__call__callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:84:in `protected_app_call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:79:in `better_errors_call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:56:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/quiet_assets-1.0.2/lib/quiet_assets.rb:18:in `call_with_quiet_assets'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered devise/registrations/new.html.haml within layouts/application (9.7ms)
Completed 500 Internal Server Error in 17ms

SyntaxError - /home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:5: syntax error, unexpected '='
..."=>"text", "placeholder"=>"#{ =f.label :name}")}>\n  <br>\n ...
...                               ^:
  actionpack (4.0.0) lib/action_view/template.rb:299:in `'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:233:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:161:in `to_html'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:154:in `respond'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:147:in `call'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:330:in `respond_with'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:8:in `new'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__2131976021865581781__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1216763966968171450__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/34902980/variables" for 127.0.0.1 at 2014-01-14 11:46:13 +0400


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:46:16 +0400
Processing by RegistrationsController#new as HTML
ERROR: compiling _app_views_devise_registrations_new_html_haml___2870626984751349976_39956080 RAISED /home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:5: syntax error, unexpected '='
..."=>"text", "placeholder"=>"#{ = f.label :name}")}>\n  <br>\n...
...                               ^
Function body:           def _app_views_devise_registrations_new_html_haml___2870626984751349976_39956080(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "devise/registrations/new";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true, :hyphenate_data_attrs=>true, :cdata=>false});_erbout = _hamlout.buffer;@output_buffer = output_buffer ||= ActionView::OutputBuffer.new rescue nil;_hamlout.push_text("<h2>Регистрация</h2>\n", 0, false);
haml_temp =  form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f|
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false(( devise_error_messages!
));}\n<input#{
_hamlout.attributes({}, nil,  "class"=>"form-control", "type"=>"text", "placeholder"=>"#{ = f.label :name}")}>\n  <br>\n  #{_hamlout.adjust_tabs(1); 


_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :name
));}\n</input>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :email
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.email_field :email
));}\n</div>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :password
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :password
));}\n</div>\n<div>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :password_confirmation
));}\n  <br>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :password_confirmation
));}\n</div>\n<div>#{_hamlout.format_script_false_true_false_true_false_true_false((f.submit "Зарегистрировать"
));}</div>\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper if @haml_buffer;end;
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:233:in `default_render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:161:in `to_html'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:154:in `respond'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/responder.rb:147:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/mime_responds.rb:330:in `respond_with'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/controllers/devise/registrations_controller.rb:8:in `new'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:443:in `_run__2131976021865581781__process_action__callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/mapper.rb:44:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__1216763966968171450__call__callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:84:in `protected_app_call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:79:in `better_errors_call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:56:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/quiet_assets-1.0.2/lib/quiet_assets.rb:18:in `call_with_quiet_assets'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered devise/registrations/new.html.haml within layouts/application (11.2ms)
Completed 500 Internal Server Error in 19ms

SyntaxError - /home/nikita/mem/fileapp/app/views/devise/registrations/new.html.haml:5: syntax error, unexpected '='
..."=>"text", "placeholder"=>"#{ = f.label :name}")}>\n  <br>\n...
...                               ^:
  actionpack (4.0.0) lib/action_view/template.rb:299:in `'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:233:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:161:in `to_html'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:154:in `respond'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:147:in `call'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:330:in `respond_with'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:8:in `new'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__2131976021865581781__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1216763966968171450__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/40079760/variables" for 127.0.0.1 at 2014-01-14 11:46:16 +0400


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:46:39 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (8.6ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:46:52 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (46.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 68ms (Views: 66.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:47:40 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (41.0ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 64ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:48:57 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (14.0ms)
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 113ms (Views: 111.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:52:49 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.6ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 71ms (Views: 69.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:53:05 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (13.0ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 72ms (Views: 70.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:53:12 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (11.0ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 74ms (Views: 71.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:55:42 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (8.3ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 70ms (Views: 67.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:56:50 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (3.6ms)
Completed 500 Internal Server Error in 11ms

Haml::SyntaxError - Unbalanced brackets.:
  app/views/devise/registrations/new.html.haml:21:in `'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:749:in `balance'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:598:in `parse_old_attributes'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:558:in `parse_tag'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:343:in `tag'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:222:in `process_line'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:129:in `block in parse'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:115:in `parse'
  haml (4.1.0.alpha.2) lib/haml/engine.rb:66:in `initialize'
  haml (4.1.0.alpha.2) lib/haml/template/plugin.rb:25:in `compile'
  haml (4.1.0.alpha.2) lib/haml/template/plugin.rb:30:in `call'
  actionpack (4.0.0) lib/action_view/template.rb:272:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:233:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:161:in `to_html'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:154:in `respond'
  actionpack (4.0.0) lib/action_controller/metal/responder.rb:147:in `call'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:330:in `respond_with'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:8:in `new'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__2131976021865581781__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1216763966968171450__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/32023960/variables" for 127.0.0.1 at 2014-01-14 11:56:50 +0400


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:57:12 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (7.9ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 28.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:57:27 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (7.4ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 27.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:57:29 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:57:30 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:57:30 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:58:00 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 11:58:35 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (8.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 11:59:01 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OJ35dmDaCwdKzlyeyCp44ievtiAzVtKYhFNALUczGJ8="}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  Rendered devise/registrations/new.html.haml within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 67ms (Views: 33.2ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:01:12 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.5ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:02:20 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (11.5ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:02:21 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.0ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:02:56 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.6ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:02:58 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:02:58 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (67.6ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 95ms (Views: 93.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:03:01 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (7.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 65ms (Views: 62.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:04:18 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (47.9ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 122ms (Views: 120.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:04:37 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (47.1ms)
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 71ms (Views: 69.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:04:58 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (45.8ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 69ms (Views: 67.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:05:23 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (55.4ms)
  Rendered layouts/_navigation_links.html.haml (4.2ms)
  Rendered layouts/_navigation.html.haml (5.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 80ms (Views: 77.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:05:55 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (45.8ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 65.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:06:09 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (45.5ms)
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 65.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:06:47 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (44.8ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 66ms (Views: 64.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:06:54 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (50.0ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 75.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:07:38 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (10.0ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 65.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:08:14 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (11.6ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 73.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:08:22 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:08:28 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:09:21 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (7.0ms)
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 45ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:09:22 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:09:26 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:09:27 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:09:28 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:09:29 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.3ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (21.2ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 73ms (Views: 70.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:11:52 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (4.3ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (10.5ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 80ms (Views: 77.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:11:54 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 27ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:13:05 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.5ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (9.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (7.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 88ms (Views: 33.1ms | ActiveRecord: 13.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:13:07 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:13:07 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:13:20 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OJ35dmDaCwdKzlyeyCp44ievtiAzVtKYhFNALUczGJ8=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 11:26:08 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 12:13:20 MSK +04:00], ["sign_in_count", 17], ["updated_at", Tue, 14 Jan 2014 12:13:20 MSK +04:00]]
  [1m[36m (152.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 366ms (ActiveRecord: 154.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:13:20 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (28.3ms)
  Rendered layouts/_navigation.html.haml (29.9ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 49ms (Views: 45.8ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:13:25 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:13:27 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (6.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 12:13:30 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  Rendered users/index.html.haml within layouts/application (58.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 89ms (Views: 75.2ms | ActiveRecord: 2.2ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-14 12:13:35 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TypHrNx0C/WLLALyzc2RSF2BQO3HRe48kH27zzv6wdw=", "user"=>{"role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 8ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__3206662765633255495__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1216763966968171450__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/35143020/variables" for 127.0.0.1 at 2014-01-14 12:13:35 +0400


Started GET "/" for 127.0.0.1 at 2014-01-14 12:13:38 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:16:29 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 37ms (Views: 33.5ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:16:41 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (13.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (7.6ms)
  Rendered layouts/_navigation.html.haml (9.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 44ms (Views: 39.5ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:17:00 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (9.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 30.6ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:18:04 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (13.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:18:10 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 74ms (Views: 70.5ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:18:18 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (50.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 73.8ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:18:20 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 67ms (Views: 28.1ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:18:29 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (15.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (5.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 40.6ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:19:35 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:19:37 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.5ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:19:43 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (5.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.1ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:19:53 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 32.6ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:20:06 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.2ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:20:27 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:20:57 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 28.6ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:20:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (8.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (13.3ms)
  Rendered layouts/_navigation.html.haml (14.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 73.7ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:21:00 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (13.1ms)
  Rendered layouts/_navigation.html.haml (14.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 64.6ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:21:23 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:22:13 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (5.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.2ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:22:14 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 27.1ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:22:49 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.2ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:22:50 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.5ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:23:01 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.7ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 33.4ms | ActiveRecord: 2.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:23:11 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 75ms (Views: 72.2ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:23:11 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:23:29 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (12.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:23:41 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 27.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:25:01 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (14.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.1ms)
  Rendered layouts/_navigation.html.haml (22.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 144ms (Views: 126.8ms | ActiveRecord: 14.4ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 12:25:12 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TypHrNx0C/WLLALyzc2RSF2BQO3HRe48kH27zzv6wdw=", "user"=>{"name"=>"Администраторр", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered devise/registrations/edit.html.haml within layouts/application (7.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 157ms (Views: 36.7ms | ActiveRecord: 0.7ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 12:25:20 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TypHrNx0C/WLLALyzc2RSF2BQO3HRe48kH27zzv6wdw=", "user"=>{"name"=>"Администраторр", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (11.5ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["name", "Администраторр"], ["updated_at", Tue, 14 Jan 2014 12:25:20 MSK +04:00]]
  [1m[35m (179.2ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 298ms (ActiveRecord: 191.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:25:20 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:25:23 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (5.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.3ms | ActiveRecord: 0.6ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 12:25:29 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TypHrNx0C/WLLALyzc2RSF2BQO3HRe48kH27zzv6wdw=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["name", "Администратор"], ["updated_at", Tue, 14 Jan 2014 12:25:29 MSK +04:00]]
  [1m[36m (124.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 234ms (ActiveRecord: 126.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:25:30 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (42.3ms)
  Rendered layouts/_navigation.html.haml (43.4ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 61ms (Views: 59.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:25:32 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:25:33 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (6.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 27.8ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 12:25:34 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (20.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 55ms (Views: 48.9ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 12:25:39 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (19.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 44ms (Views: 35.3ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:25:42 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 12:25:43 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TypHrNx0C/WLLALyzc2RSF2BQO3HRe48kH27zzv6wdw="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:25:44 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 22ms (Views: 21.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:25:46 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:25:53 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (10.6ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 52ms (Views: 49.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:26:14 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (50.2ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 76ms (Views: 74.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:26:22 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (45.8ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 77ms (Views: 74.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:26:26 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:26:28 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 25.1ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:27:50 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (10.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 148ms (Views: 135.5ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:28:07 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.0ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.1ms)
Completed 200 OK in 118ms (Views: 106.6ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:28:24 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.2ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 85ms (Views: 69.7ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:28:38 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.2ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 108ms (Views: 96.4ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:28:52 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.6ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 75ms (Views: 62.9ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:29:04 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 114ms (Views: 101.2ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:29:13 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (7.4ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 81ms (Views: 66.7ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:29:29 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 109ms (Views: 97.7ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:30:04 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (7.1ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 65.3ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:30:07 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.9ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 83ms (Views: 71.5ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:30:15 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (43.6ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 113ms (Views: 101.1ms | ActiveRecord: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:30:31 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (8.6ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 43ms (Views: 30.9ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:31:35 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (11.2ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 45ms (Views: 31.4ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:31:46 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (10.7ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 45ms (Views: 33.1ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:32:08 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.3ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 26.8ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:32:11 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (8.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 27.8ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:32:12 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 78ms (Views: 63.6ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:32:19 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (41.2ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 74ms (Views: 62.2ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:32:20 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 72ms (Views: 26.0ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:32:21 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.7ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 26.8ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:32:39 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 26.3ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:32:41 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:32:43 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.3ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:32:48 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.2ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 25.5ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:33:43 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (611.3ms)
  Rendered layouts/_navigation_links.html.haml (6.4ms)
  Rendered layouts/_navigation.html.haml (12.3ms)
  Rendered layouts/_messages.html.haml (3.3ms)
Completed 200 OK in 1235ms (Views: 1123.2ms | ActiveRecord: 0.6ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:33:46 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (11.6ms)
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 42ms (Views: 39.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:33:46 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (10.3ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 41ms (Views: 38.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:34:15 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (12.9ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 33.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:34:16 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:34:20 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (14.2ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 34.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:34:22 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  Rendered devise/registrations/new.html.haml within layouts/application (5.7ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 103ms (Views: 24.2ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:34:24 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:34:26 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  Rendered devise/registrations/new.html.haml within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 25.9ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 12:34:57 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  Rendered devise/registrations/new.html.haml within layouts/application (6.0ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 136ms (Views: 123.7ms | ActiveRecord: 0.2ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:35:34 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (34.5ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (72.1ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 101ms (Views: 98.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:35:35 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 2ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/views/devise/sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 28ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:35:42 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s5m1opKwPQkv4ina6UoOjsLpXvIEasb91w5fL8cDOAQ=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (86.7ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 12:13:20 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 12:35:43 MSK +04:00], ["sign_in_count", 18], ["updated_at", Tue, 14 Jan 2014 12:35:43 MSK +04:00]]
  [1m[36m (126.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 359ms (ActiveRecord: 213.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:35:43 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (5.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (221.1ms)
  Rendered layouts/_navigation.html.haml (222.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 243ms (Views: 240.4ms | ActiveRecord: 1.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:35:44 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (11.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (6.2ms)
  Rendered layouts/_navigation.html.haml (10.1ms)
  Rendered layouts/_messages.html.haml (32.5ms)
Completed 200 OK in 72ms (Views: 69.4ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-14 12:35:47 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5rpzIUSI06WxG4zgepaHsKIaOT5g5GLFbd2w2k8NzlU=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered devise/registrations/edit.html.haml within layouts/application (12.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 134ms (Views: 32.2ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:35:57 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:40:40 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (111.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (205.4ms)
  Rendered layouts/_navigation.html.haml (209.5ms)
  Rendered layouts/_messages.html.haml (2.8ms)
Completed 200 OK in 628ms (Views: 588.1ms | ActiveRecord: 1.9ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:40:43 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.erb within layouts/application (410.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (6.5ms)
  Rendered layouts/_navigation.html.haml (10.5ms)
  Rendered layouts/_messages.html.haml (2.8ms)
Completed 200 OK in 451ms (Views: 441.0ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 12:40:48 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"5rpzIUSI06WxG4zgepaHsKIaOT5g5GLFbd2w2k8NzlU="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 42ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:40:48 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (13.5ms)
  Rendered layouts/_navigation_links.html.haml (1.8ms)
  Rendered layouts/_navigation.html.haml (2.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 30ms (Views: 29.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:40:50 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.haml (1.8ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 21.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:40:51 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:41:15 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.haml (1.8ms)
  Rendered layouts/_navigation.html.haml (2.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:41:15 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.haml (1.8ms)
  Rendered layouts/_navigation.html.haml (2.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:41:18 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (2.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:41:19 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.4ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 29.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:41:20 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (43.8ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 63ms (Views: 62.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:41:21 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (26.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:42:02 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:42:03 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:42:04 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:42:05 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:42:05 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:42:06 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:42:08 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:42:09 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:42:11 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 58ms (Views: 23.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:42:11 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:43:30 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:43:31 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:45:22 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (502.3ms)
  Rendered layouts/_navigation_links.html.haml (5.6ms)
  Rendered layouts/_navigation.html.haml (9.7ms)
  Rendered layouts/_messages.html.haml (3.0ms)
Completed 200 OK in 952ms (Views: 814.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:45:25 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (48.5ms)
  Rendered layouts/_navigation_links.html.haml (5.6ms)
  Rendered layouts/_navigation.html.haml (9.9ms)
  Rendered layouts/_messages.html.haml (2.8ms)
Completed 200 OK in 77ms (Views: 75.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:45:27 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/registrations/new.html.haml within layouts/application (8.7ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:45:28 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:46:24 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (7.7ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:46:25 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (6.6ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:46:26 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.2ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:46:28 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (10.3ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:46:30 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.8ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 12:46:31 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.4ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:46:33 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (6.0ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 58ms (Views: 55.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:46:40 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QNBReg+CjZtcDZ3iFLxInJTip7A4W+G9Sc05ktfcSu4=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (151.9ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 12:35:43 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 12:46:40 MSK +04:00], ["sign_in_count", 19], ["updated_at", Tue, 14 Jan 2014 12:46:40 MSK +04:00]]
  [1m[36m (130.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 513ms (ActiveRecord: 283.2ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:46:41 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (4.9ms)
  [1m[36m (8.9ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (167.2ms)
  Rendered layouts/_navigation.html.haml (168.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 188ms (Views: 176.9ms | ActiveRecord: 9.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 12:46:43 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (35.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (105.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 131ms (Views: 121.2ms | ActiveRecord: 2.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 12:46:43 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (17.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:46:45 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 12:46:47 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UkGIIIbiN/jxjRVjqB3WUAARxpLmg5A9v9LuaLpCx1w="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 74ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:46:47 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:46:49 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:47:45 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:47:46 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (9.3ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:47:46 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.3ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:47:48 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V9jZTCoBmPAYF3J2ZB3nUm48AXWt+UkRNRQ6gswMB0g=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
Completed 401 Unauthorized in 3ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V9jZTCoBmPAYF3J2ZB3nUm48AXWt+UkRNRQ6gswMB0g=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:49:48 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (10.1ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 45ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:50:55 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.3ms)
  Rendered devise/sessions/new.html.haml within layouts/application (368.9ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 429ms (Views: 385.9ms | ActiveRecord: 0.9ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:50:58 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.8ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:53:03 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V9jZTCoBmPAYF3J2ZB3nUm48AXWt+UkRNRQ6gswMB0g=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["remember_created_at", Tue, 14 Jan 2014 12:53:03 MSK +04:00], ["updated_at", Tue, 14 Jan 2014 12:53:03 MSK +04:00]]
  [1m[35m (138.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 12:46:40 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 12:53:03 MSK +04:00], ["sign_in_count", 20], ["updated_at", Tue, 14 Jan 2014 12:53:03 MSK +04:00]]
  [1m[36m (108.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 370ms (ActiveRecord: 248.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:53:03 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (12.7ms)
  Rendered layouts/_navigation.html.haml (13.9ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 33ms (Views: 30.1ms | ActiveRecord: 1.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 12:53:11 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PAXuIDXUsS6sLy5QU4E05GRTiL8kY9pqaaq2tZNPdT8="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["remember_created_at", nil], ["updated_at", Tue, 14 Jan 2014 12:53:11 MSK +04:00]]
  [1m[36m (235.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 247ms (ActiveRecord: 236.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 12:53:11 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:56:45 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.3ms)
  Rendered devise/sessions/new.html.haml within layouts/application (457.7ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (15.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 611ms (Views: 537.9ms | ActiveRecord: 11.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:56:46 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:56:48 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (6.5ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:56:49 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:57:09 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (322.4ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 429ms (Views: 339.2ms | ActiveRecord: 0.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:57:10 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.3ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 56ms (Views: 53.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 12:59:54 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (326.7ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 384ms (Views: 343.6ms | ActiveRecord: 0.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:00:14 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (13.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 85ms (Views: 82.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:00:47 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (9.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 27.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:00:56 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 34.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:00:59 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 58ms (Views: 54.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:01:00 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (6.0ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:01:01 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:01:05 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:01:06 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:01:07 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (35.6ms)
  Rendered layouts/_navigation.html.haml (36.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 59ms (Views: 57.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:01:07 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.7ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:01:12 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:01:13 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 26ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:01:14 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.0ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:01:15 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:01:16 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 52ms (Views: 51.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:01:18 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:01:18 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 13:01:20 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vurGr3z+ol2xIvuwYGzjJ8XPMJekrUDMB0BEL31eLBQ=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  Rendered devise/registrations/new.html.haml within layouts/application (6.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 59ms (Views: 26.6ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:01:23 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:01:24 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vurGr3z+ol2xIvuwYGzjJ8XPMJekrUDMB0BEL31eLBQ=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (30.0ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 12:53:03 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 13:01:25 MSK +04:00], ["sign_in_count", 21], ["updated_at", Tue, 14 Jan 2014 13:01:25 MSK +04:00]]
  [1m[36m (212.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 388ms (ActiveRecord: 242.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:01:25 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (41.0ms)
  Rendered layouts/_navigation.html.haml (42.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 59ms (Views: 57.4ms | ActiveRecord: 1.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:01:26 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.3ms)
  Rendered users/index.html.haml within layouts/application (49.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 85ms (Views: 70.8ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:03:12 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (41.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (61.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 84ms (Views: 77.6ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:04:39 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (40.3ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (71.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 726ms (Views: 719.9ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:04:49 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (18.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 69.7ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:05:14 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (18.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 109ms (Views: 102.2ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:05:56 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.2ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.0ms)
  Rendered users/index.html.haml within layouts/application (19.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 80ms (Views: 71.9ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:06:16 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (21.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 123ms (Views: 108.1ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:07:47 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (8.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (23.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 130ms (Views: 121.7ms | ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:08:02 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (20.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 125ms (Views: 117.7ms | ActiveRecord: 1.9ms)


Started PUT "/users/2" for 127.0.0.1 at 2014-01-14 13:08:10 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FnT5ud/7tLg0P1owcXuWcfuXU7TjRV5TKnNahVXycNY=", "user"=>{"role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 48ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__765117579755989626__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1369762737005929095__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/33151540/variables" for 127.0.0.1 at 2014-01-14 13:08:10 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:08:16 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (19.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 80ms (Views: 73.4ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:08:17 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (21.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 73ms (Views: 66.5ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:08:30 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.3ms)
  Rendered users/index.html.haml within layouts/application (19.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 131ms (Views: 123.6ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:08:38 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (18.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 78ms (Views: 69.1ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:08:54 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (21.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 110ms (Views: 101.4ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:08:55 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (8.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (23.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 39.2ms | ActiveRecord: 1.8ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:09:43 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 36.3ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:09:59 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (8.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.6ms)
  Rendered users/index.html.haml within layouts/application (26.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 82ms (Views: 75.4ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:10:10 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (10.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.2ms)
  Rendered users/index.html.haml within layouts/application (26.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 51ms (Views: 42.8ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:10:12 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (8.1ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (23.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 39.7ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:10:14 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (18.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 34.0ms | ActiveRecord: 1.7ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:10:46 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:10:48 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 54ms (Views: 52.5ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 13:10:49 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"FnT5ud/7tLg0P1owcXuWcfuXU7TjRV5TKnNahVXycNY="}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:10:49 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 20ms (Views: 19.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:10:50 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.3ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 13:10:52 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AdTwVYLTqD6gqjSdbWY3YgajOA4Wyh2RevjPf3PB9rw=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  Rendered devise/registrations/new.html.haml within layouts/application (6.7ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 55ms (Views: 26.1ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:10:55 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 25.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:10:56 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:10:57 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:11:47 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 90ms (Views: 88.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:12:21 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 32ms (Views: 30.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:12:23 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:12:24 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:12:25 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.3ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:12:26 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.8ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:12:59 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:13:01 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.7ms)
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 60ms (Views: 57.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:13:12 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.7ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:13:24 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AdTwVYLTqD6gqjSdbWY3YgajOA4Wyh2RevjPf3PB9rw=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 13:01:25 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 13:13:24 MSK +04:00], ["sign_in_count", 22], ["updated_at", Tue, 14 Jan 2014 13:13:24 MSK +04:00]]
  [1m[36m (109.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 220ms (ActiveRecord: 110.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:13:24 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:13:26 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (23.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 45ms (Views: 38.3ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:15:57 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (5.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:15:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (44.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 65.0ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:16:01 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (17.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 33.4ms | ActiveRecord: 1.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 13:16:02 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"i98GJ/JBC5LXHh41an+NvrI4kS68pkEYhheJJtUSWbM="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:16:02 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.3ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 23ms (Views: 22.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:16:03 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:16:04 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.5ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:16:14 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 53ms (Views: 52.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:16:27 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:16:29 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (9.6ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 13:16:32 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Kv9Ii70crO2BMKzKAGZB93ad2JxIqSvXdXQxpR2XIlM=", "user"=>{"name"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (6.6ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 25.1ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:17:12 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:17:14 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (10.0ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:17:26 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.2ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 35ms (Views: 30.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:17:37 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:17:38 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:17:40 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (10.2ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:18:07 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (9.3ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 32.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:18:09 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:18:34 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (3.9ms)
Completed 500 Internal Server Error in 8ms

Haml::SyntaxError - "else" is indented at wrong level: expected 0, but was at 1.:
  app/views/home/index.html.haml:7:in `'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:318:in `silent_script'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:235:in `process_line'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:129:in `block in parse'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:115:in `parse'
  haml (4.1.0.alpha.2) lib/haml/engine.rb:66:in `initialize'
  haml (4.1.0.alpha.2) lib/haml/template/plugin.rb:25:in `compile'
  haml (4.1.0.alpha.2) lib/haml/template/plugin.rb:30:in `call'
  actionpack (4.0.0) lib/action_view/template.rb:272:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__3735245819535021747__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1369762737005929095__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/31769040/variables" for 127.0.0.1 at 2014-01-14 13:18:34 +0400
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m


Started GET "/" for 127.0.0.1 at 2014-01-14 13:19:00 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (1.6ms)
Completed 500 Internal Server Error in 6ms

Haml::SyntaxError - "else" is indented at wrong level: expected 0, but was at 1.:
  app/views/home/index.html.haml:7:in `'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:318:in `silent_script'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:235:in `process_line'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:129:in `block in parse'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:115:in `parse'
  haml (4.1.0.alpha.2) lib/haml/engine.rb:66:in `initialize'
  haml (4.1.0.alpha.2) lib/haml/template/plugin.rb:25:in `compile'
  haml (4.1.0.alpha.2) lib/haml/template/plugin.rb:30:in `call'
  actionpack (4.0.0) lib/action_view/template.rb:272:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__3735245819535021747__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1369762737005929095__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/35470100/variables" for 127.0.0.1 at 2014-01-14 13:19:00 +0400
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"


Started GET "/" for 127.0.0.1 at 2014-01-14 13:19:10 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (11.7ms)
  Rendered layouts/_navigation_links.html.haml (1.9ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 308ms (Views: 307.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:19:12 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (5.6ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:19:13 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:19:49 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.9ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 53ms (Views: 52.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:19:50 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 54ms (Views: 53.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:19:51 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:19:52 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.8ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:19:53 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Kv9Ii70crO2BMKzKAGZB93ad2JxIqSvXdXQxpR2XIlM=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
Completed 401 Unauthorized in 3ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Kv9Ii70crO2BMKzKAGZB93ad2JxIqSvXdXQxpR2XIlM=", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (6.5ms)
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:19:59 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Kv9Ii70crO2BMKzKAGZB93ad2JxIqSvXdXQxpR2XIlM=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["last_sign_in_at", Tue, 14 Jan 2014 13:13:24 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 13:19:59 MSK +04:00], ["sign_in_count", 23], ["updated_at", Tue, 14 Jan 2014 13:19:59 MSK +04:00]]
  [1m[35m (120.9ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 228ms (ActiveRecord: 122.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:19:59 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:20:02 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:20:35 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:20:54 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 46ms (Views: 43.4ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:20:58 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (22.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 89ms (Views: 50.3ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT 1[0m


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:22:33 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (17.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 32.7ms | ActiveRecord: 1.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 13:22:35 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"G1WgIkrXJ7XFJk6IbQMQ+n2iY5s7b8MWfrF2JclUmww="}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:22:35 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:22:36 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2014-01-14 13:22:38 +0400
Processing by RegistrationsController#new as HTML
  Rendered devise/registrations/new.html.haml within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 13:23:06 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LMagorIYYRclsVmG73/ZKxoSd6plZ0Fi7mf5M/WONm8=", "user"=>{"name"=>"Модератор", "email"=>"moderator@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'moderator@mail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered devise/registrations/new.html.haml within layouts/application (5.5ms)
  Rendered layouts/_navigation_links.html.haml (36.7ms)
  Rendered layouts/_navigation.html.haml (37.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 681ms (Views: 59.4ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2014-01-14 13:23:25 +0400
Processing by RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LMagorIYYRclsVmG73/ZKxoSd6plZ0Fi7mf5M/WONm8=", "user"=>{"name"=>"Модератор", "email"=>"moderator@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрировать"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'moderator@mail.com' LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (10.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "name", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 13:23:25 MSK +04:00], ["email", "moderator@mail.com"], ["encrypted_password", "$2a$10$cn8aSANcgouuXdIj197eEuL4FMH/Ji.rOBz93bDmQ4tEQqUxx8q2m"], ["name", "Модератор"], ["updated_at", Tue, 14 Jan 2014 13:23:25 MSK +04:00]]
  [1m[35m (146.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `last_sign_in_ip`
Binary data inserted for `string` type on column `current_sign_in_ip`
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 5  [["last_sign_in_at", Tue, 14 Jan 2014 13:23:26 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 13:23:26 MSK +04:00], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", Tue, 14 Jan 2014 13:23:26 MSK +04:00]]
  [1m[36m (113.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 379ms (ActiveRecord: 272.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:23:26 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 5]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 54ms (Views: 52.9ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:23:28 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 5]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 62ms (Views: 58.6ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:23:31 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 5]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-14 13:23:42 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"LMagorIYYRclsVmG73/ZKxoSd6plZ0Fi7mf5M/WONm8="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:23:42 +0400
Processing by HomeController#index as HTML
  Rendered home/index.html.haml within layouts/application (3.3ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:23:43 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.5ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-14 13:23:51 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6B+HDah+pPCHFhHDt+hJGyK3D2gAbzBwqedxFPC6EWE=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["last_sign_in_at", Tue, 14 Jan 2014 13:19:59 MSK +04:00], ["current_sign_in_at", Tue, 14 Jan 2014 13:23:51 MSK +04:00], ["sign_in_count", 24], ["updated_at", Tue, 14 Jan 2014 13:23:51 MSK +04:00]]
  [1m[35m (128.7ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 233ms (ActiveRecord: 129.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:23:52 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:23:53 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.0ms)
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (25.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 47ms (Views: 39.9ms | ActiveRecord: 2.1ms)


Started PUT "/users/5" for 127.0.0.1 at 2014-01-14 13:23:59 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PZf/oJkH0jPrJr9jXp7COfhKjFQJzHpfhFCQmW8eb0A=", "user"=>{"role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "5"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 7ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:17:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__765117579755989626__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1369762737005929095__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/24796100/variables" for 127.0.0.1 at 2014-01-14 13:23:59 +0400
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT 1
DEPRECATION WARNING: This dynamic method is deprecated. Please use e.g. Post.find_or_create_by(name: 'foo') instead. (called from irb_binding at (irb):19)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'moderator' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Exists (0.2ms)[0m  SELECT 1 AS one FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND "roles"."id" = 3 LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "users_roles" ("user_id", "role_id") VALUES (5, 3)[0m
  [1m[35m (135.5ms)[0m  commit transaction


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:24:32 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.7ms)
  Rendered users/index.html.haml within layouts/application (30.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 52ms (Views: 45.3ms | ActiveRecord: 2.1ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:27:00 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:27:01 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:28:24 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (38.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 61ms (Views: 58.4ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:28:26 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (24.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 45ms (Views: 39.2ms | ActiveRecord: 2.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:28:39 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:28:41 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:37:42 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 127ms (Views: 125.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:37:43 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:37:44 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:37:51 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 76ms (Views: 74.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:37:57 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:37:58 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:37:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (38.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 61ms (Views: 58.3ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:37:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:38:00 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (24.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 47ms (Views: 40.3ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:38:01 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.3ms)
  Rendered users/index.html.haml within layouts/application (27.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 50ms (Views: 43.4ms | ActiveRecord: 2.2ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:38:02 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (38.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 61ms (Views: 58.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:38:02 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-14 13:38:22 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:38:24 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-14 13:38:25 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (24.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 47ms (Views: 40.1ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-14 13:38:27 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (3.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 53ms (Views: 51.8ms | ActiveRecord: 0.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddAttachmentAvatarToUsers (20140115063030)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" ADD "avatar_file_name" varchar(255)[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "users" ADD "avatar_content_type" varchar(255)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ADD "avatar_file_size" integer[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "users" ADD "avatar_updated_at" datetime
  [1m[36mSQL (17.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140115063030"]]
  [1m[35m (115.9ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/" for 127.0.0.1 at 2014-01-15 10:37:40 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (75.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (325.3ms)
  Rendered layouts/_navigation.html.haml (329.7ms)
  Rendered layouts/_messages.html.haml (3.3ms)
Completed 200 OK in 1003ms (Views: 903.9ms | ActiveRecord: 1.9ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:37:44 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (829.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (7.0ms)
  Rendered layouts/_navigation.html.haml (11.4ms)
  Rendered layouts/_messages.html.haml (3.4ms)
Completed 200 OK in 873ms (Views: 862.0ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 10:38:01 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x000000038d6780 @tempfile=#<File:/tmp/RackMultipart20140115-5147-13jrbmd>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">, "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: avatar
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 193ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:38:01 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:38:04 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:38:05 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (27.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (157.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 199ms (Views: 181.5ms | ActiveRecord: 2.5ms)


Started GET "/users/2" for 127.0.0.1 at 2014-01-15 10:38:09 +0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "2"]]
  Rendered users/show.html.haml within layouts/application (3.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 31.7ms | ActiveRecord: 0.6ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2014-01-15 10:38:09 +0400

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.6ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.6ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (41.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:38:50 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.8ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (8.6ms)
  Rendered users/index.html.haml within layouts/application (48.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (7.7ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 92ms (Views: 83.0ms | ActiveRecord: 2.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:38:50 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (58.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (9.8ms)
  Rendered users/index.html.haml within layouts/application (106.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 137ms (Views: 128.1ms | ActiveRecord: 2.6ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-15 10:38:54 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
Unpermitted parameters: role_ids
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:38:54 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (8.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (34.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 56ms (Views: 49.1ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:38:57 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.1ms)
  Rendered users/index.html.haml within layouts/application (25.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 47ms (Views: 40.7ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:39:00 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.1ms)
  Rendered users/index.html.haml within layouts/application (88.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 112ms (Views: 104.3ms | ActiveRecord: 2.2ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-15 10:39:04 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
Unpermitted parameters: role_ids
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/users
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:39:04 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (27.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 49ms (Views: 41.6ms | ActiveRecord: 2.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:39:06 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (58.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 80ms (Views: 73.5ms | ActiveRecord: 2.1ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:39:18 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.5ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 10:39:24 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администраторh", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (14.6ms)[0m  UPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["name", "Администраторh"], ["updated_at", Wed, 15 Jan 2014 10:39:24 MSK +04:00]]
  [1m[36m (353.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 472ms (ActiveRecord: 368.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:39:24 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:39:26 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (5.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 10:39:32 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["name", "Администратор"], ["updated_at", Wed, 15 Jan 2014 10:39:32 MSK +04:00]]
  [1m[35m (112.7ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 225ms (ActiveRecord: 113.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:39:32 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:39:34 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:39:35 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (4.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:39:37 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:39:39 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1


Started GET "/" for 127.0.0.1 at 2014-01-15 10:41:01 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (3.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:41:02 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (45.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 69ms (Views: 66.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:41:04 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (71.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 95ms (Views: 91.4ms | ActiveRecord: 0.5ms)


Started PATCH "/users" for 127.0.0.1 at 2014-01-15 10:41:22 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "avatar"=>"back.jpg", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
Unpermitted parameters: avatar
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 105ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:41:22 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:41:25 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.6ms)
  Rendered users/index.html.haml within layouts/application (23.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 77ms (Views: 71.1ms | ActiveRecord: 2.0ms)


Started GET "/users/2" for 127.0.0.1 at 2014-01-15 10:41:26 +0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "2"]]
  Rendered users/show.html.haml within layouts/application (1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 100ms (Views: 95.7ms | ActiveRecord: 0.7ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2014-01-15 10:41:26 +0400

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.7ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (51.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1[0m


Started GET "/users/2" for 127.0.0.1 at 2014-01-15 10:42:08 +0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "2"]]
  Rendered users/show.html.haml within layouts/application (4.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 0.7ms)


Started GET "/images/medium/missing.png" for 127.0.0.1 at 2014-01-15 10:42:09 +0400

ActionController::RoutingError (No route matches [GET] "/images/medium/missing.png"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.9ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (34.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:42:10 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:42:12 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1[0m


Started GET "/" for 127.0.0.1 at 2014-01-15 10:43:23 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (48.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (12.0ms)
  Rendered layouts/_navigation.html.haml (13.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 79ms (Views: 74.4ms | ActiveRecord: 2.1ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:43:25 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (57.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 82ms (Views: 78.5ms | ActiveRecord: 0.5ms)


Started PATCH "/users" for 127.0.0.1 at 2014-01-15 10:43:33 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "avatar"=>"back.jpg", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 98ms

Paperclip::AdapterRegistry::NoHandlerError - No handler found for "back.jpg":
   () home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/bundler/gems/paperclip-eb75c08d4a68/lib/paperclip/io_adapters/registry.rb:19:in `handler_for'
   () home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/bundler/gems/paperclip-eb75c08d4a68/lib/paperclip/io_adapters/registry.rb:29:in `for'
   () home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/bundler/gems/paperclip-eb75c08d4a68/lib/paperclip/attachment.rb:96:in `assign'
   () home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/bundler/gems/paperclip-eb75c08d4a68/lib/paperclip/has_attached_file.rb:65:in `block in define_setter'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:42:in `_assign_attribute'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:29:in `block in assign_attributes'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:23:in `assign_attributes'
  devise (3.2.2) lib/devise/models/database_authenticatable.rb:72:in `update_with_password'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:89:in `update_resource'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:44:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__3538457109387881470__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/31179860/variables" for 127.0.0.1 at 2014-01-15 10:43:33 +0400


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:45:28 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (55.8ms)
Completed 500 Internal Server Error in 65ms

NoMethodError - undefined method `model_name' for ActionView::Helpers::FormBuilder:Class:
  actionpack (4.0.0) lib/action_controller/model_naming.rb:9:in `model_name_from_record_or_class'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:425:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/devise/registrations/edit.html.haml:15:in `block in _app_views_devise_registrations_edit_html_haml__516341078544861965_30218200'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:144:in `block (2 levels) in form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers.rb:285:in `with_tabs'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:144:in `block in form_for_with_haml'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:38:in `block in capture'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:200:in `with_output_buffer'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:5:in `with_output_buffer_with_haml_xss'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:38:in `capture'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:59:in `capture_with_haml'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:435:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/devise/registrations/edit.html.haml:3:in `_app_views_devise_registrations_edit_html_haml__516341078544861965_30218200'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:34:in `edit'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__3538457109387881470__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/13346800/variables" for 127.0.0.1 at 2014-01-15 10:45:28 +0400


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:45:30 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (3.9ms)
Completed 500 Internal Server Error in 13ms

NoMethodError - undefined method `model_name' for ActionView::Helpers::FormBuilder:Class:
  actionpack (4.0.0) lib/action_controller/model_naming.rb:9:in `model_name_from_record_or_class'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:425:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/devise/registrations/edit.html.haml:15:in `block in _app_views_devise_registrations_edit_html_haml__516341078544861965_30218200'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:144:in `block (2 levels) in form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers.rb:285:in `with_tabs'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:144:in `block in form_for_with_haml'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:38:in `block in capture'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:200:in `with_output_buffer'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:5:in `with_output_buffer_with_haml_xss'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:38:in `capture'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:59:in `capture_with_haml'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:435:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/devise/registrations/edit.html.haml:3:in `_app_views_devise_registrations_edit_html_haml__516341078544861965_30218200'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:34:in `edit'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__3538457109387881470__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/32782920/variables" for 127.0.0.1 at 2014-01-15 10:45:30 +0400


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:45:53 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (28.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 60.8ms | ActiveRecord: 0.8ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:45:55 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 31.2ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 10:46:03 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x00000003ddc338 @tempfile=#<File:/tmp/RackMultipart20140115-5147-2278d7>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">, "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]'
Command :: convert '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]' -auto-orient -resize "300x300>" '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q20140115-5147-1gvz4nf'
Command :: file -b --mime '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q20140115-5147-1gvz4nf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]'
Command :: convert '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q.jpg[0]' -auto-orient -resize "100x100>" '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q20140115-5147-1ef3jt9'
Command :: file -b --mime '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-kpez1q20140115-5147-1ef3jt9'
Binary data inserted for `string` type on column `avatar_content_type`
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "avatar_file_name" = ?, "avatar_content_type" = ?, "avatar_file_size" = ?, "avatar_updated_at" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["avatar_file_name", "back.jpg"], ["avatar_content_type", "image/jpeg"], ["avatar_file_size", 67302], ["avatar_updated_at", Wed, 15 Jan 2014 10:46:04 MSK +04:00], ["updated_at", Wed, 15 Jan 2014 10:46:06 MSK +04:00]]
  [1m[36m (145.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2442ms (ActiveRecord: 147.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:46:06 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:46:09 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.2ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (100.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 129ms (Views: 115.3ms | ActiveRecord: 2.4ms)


Started GET "/users/2" for 127.0.0.1 at 2014-01-15 10:46:10 +0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "2"]]
  Rendered users/show.html.haml within layouts/application (1.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 18.9ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:46:13 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:46:16 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:46:17 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (6.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 26.8ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:46:18 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (5.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 28.2ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:48:29 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 65.1ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:48:44 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (11.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 31.6ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:48:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (13.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:49:35 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (27.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 51ms (Views: 47.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:50:01 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
ERROR: compiling _app_views_devise_registrations_edit_html_haml__516341078544861965_35316180 RAISED /home/nikita/mem/fileapp/app/views/devise/registrations/edit.html.haml:44: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_devise_registrations_edit_html_haml__516341078544861965_35316180(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "devise/registrations/edit";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true, :hyphenate_data_attrs=>true, :cdata=>false});_erbout = _hamlout.buffer;@output_buffer = output_buffer ||= ActionView::OutputBuffer.new rescue nil;_hamlout.push_text("<h2>\n  Редактирование личного профиля\n</h2>\n", 0, false);

haml_temp =  form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f|
if !resource.errors.empty?
_hamlout.push_text("<div class='error_message'>\n  #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( devise_error_messages!
));}\n</div>\n", -1, false);end;_hamlout.push_text("<div class='row'>\n  <div class='col-md-6'>\n    <div>\n      #{_hamlout.adjust_tabs(3); 



_hamlout.format_script_false_false_false_true_false_true_false(( f.label :name
));}\n      <br>\n      #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :name, class:"form-control"
));}\n    </div>\n    <br>\n    <div>\n      ", 0, false);

haml_temp =  f.file_field :avatar
_hamlout.push_text("      #{_hamlout.format_script_false_false_false_true_false_true_false(( image_tag @user.avatar.url(:medium)
));}\n", 0, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    </div>\n    <br>\n    <div>\n      #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :email
));}\n      <br>\n      #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.email_field :email, class:"form-control"
));}\n    </div>\n    <div>\n      #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :password
));}\n      <i>(Оставьте поле пустым, если не меняете пароль)</i>\n      <br>\n      #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :password, class:"form-control"
));}\n    </div>\n    <div>\n      #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :password_confirmation
));}\n      <i>(Оставьте поле пустым, если не меняете пароль)</i>\n      <br>\n      #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :password_confirmation, class:"form-control"
));}\n    </div>\n    <div>\n      #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :current_password
));}\n      <i>(Введите свой пароль для потверждения внесенных данных)</i>\n      <br>\n      #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.password_field :current_password, class:"form-control"
));}\n    </div>\n    <br>\n    <div class='pull-right'>\n      #{


_hamlout.format_script_false_false_false_true_false_true_false(( f.submit "Сохранить", class:"btn btn-success"
));}\n      #{_hamlout.format_script_false_false_false_false_false_true_false(("#{Haml::Helpers.html_escape((link_to "Удалить аккаунт", registration_path(resource_name), class:"btn btn-danger",:data => { :confirm => "Вы уверены?" }, :method => :delete))}"
));}\n    </div>\n  </div>\n  <div class='col-md-6'></div>\n</div>\n", -3, false);end;_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper if @haml_buffer;end;
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/devise-3.2.2/app/controllers/devise/registrations_controller.rb:34:in `edit'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:443:in `_run__3538457109387881470__process_action__callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/mapper.rb:44:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:35:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:34:in `catch'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/warden-1.2.3/lib/warden/manager.rb:34:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:84:in `protected_app_call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:79:in `better_errors_call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/better_errors-1.1.0/lib/better_errors/middleware.rb:56:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/quiet_assets-1.0.2/lib/quiet_assets.rb:18:in `call_with_quiet_assets'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered devise/registrations/edit.html.haml within layouts/application (17.9ms)
Completed 500 Internal Server Error in 27ms

SyntaxError - /home/nikita/mem/fileapp/app/views/devise/registrations/edit.html.haml:44: syntax error, unexpected keyword_ensure, expecting $end:
  actionpack (4.0.0) lib/action_view/template.rb:299:in `'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:34:in `edit'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__3538457109387881470__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/35505420/variables" for 127.0.0.1 at 2014-01-15 10:50:01 +0400


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:50:08 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (16.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 47ms (Views: 43.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:50:48 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (13.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 33.1ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:51:01 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (16.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.2ms)
  Rendered layouts/_navigation.html.haml (6.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 51ms (Views: 41.8ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:51:13 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (111.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 140ms (Views: 132.8ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:51:22 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (13.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:52:19 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (2.6ms)
Completed 500 Internal Server Error in 11ms

Haml::SyntaxError - Got "else" with no preceding "if":
  app/views/devise/registrations/edit.html.haml:23:in `'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:306:in `silent_script'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:235:in `process_line'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:129:in `block in parse'
  haml (4.1.0.alpha.2) lib/haml/parser.rb:115:in `parse'
  haml (4.1.0.alpha.2) lib/haml/engine.rb:66:in `initialize'
  haml (4.1.0.alpha.2) lib/haml/template/plugin.rb:25:in `compile'
  haml (4.1.0.alpha.2) lib/haml/template/plugin.rb:30:in `call'
  actionpack (4.0.0) lib/action_view/template.rb:272:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  devise (3.2.2) app/controllers/devise/registrations_controller.rb:34:in `edit'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__3538457109387881470__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/69839188684020/variables" for 127.0.0.1 at 2014-01-15 10:52:19 +0400


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:52:31 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (15.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.9ms)
  Rendered layouts/_navigation.html.haml (5.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 44ms (Views: 39.8ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:52:38 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (14.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 35.2ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 10:53:17 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x00000003cbf338 @tempfile=#<File:/tmp/RackMultipart20140115-5147-1ue2ruw>, @original_filename="nut_dark_full.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"nut_dark_full.jpg\"\r\nContent-Type: image/jpeg\r\n">, "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]'
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]'
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]'
Command :: convert '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]' -auto-orient -resize "300x300>" '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o20140115-5147-1bxtccn'
Command :: file -b --mime '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o20140115-5147-1bxtccn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]'
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]'
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]'
Command :: convert '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o.jpg[0]' -auto-orient -resize "100x100>" '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o20140115-5147-1fq5732'
Command :: file -b --mime '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1fl225o20140115-5147-1fq5732'
  Rendered devise/registrations/edit.html.haml within layouts/application (8.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.1ms)
  Rendered layouts/_navigation.html.haml (5.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 2353ms (Views: 33.7ms | ActiveRecord: 0.7ms)


Started GET "/system/users/avatars/000/000/002/medium/nut_dark_full.jpg?1389768797" for 127.0.0.1 at 2014-01-15 10:53:20 +0400

ActionController::RoutingError (No route matches [GET] "/system/users/avatars/000/000/002/medium/nut_dark_full.jpg"):
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (6.5ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.1ms)
  Rendered /home/nikita/.rvm/gems/ruby-1.9.3-p392@fileapp/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (53.7ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 10:53:28 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered devise/registrations/edit.html.haml within layouts/application (8.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 131ms (Views: 27.9ms | ActiveRecord: 0.8ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 10:53:39 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 108ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:53:39 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:53:41 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (14.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:53:43 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (7.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.0ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:53:45 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (8.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 30.8ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 10:53:55 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x007f09641b37c0 @tempfile=#<File:/tmp/RackMultipart20140115-5147-bf9ziq>, @original_filename="nut_dark_full.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"nut_dark_full.jpg\"\r\nContent-Type: image/jpeg\r\n">, "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]'
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]'
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]'
Command :: convert '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]' -auto-orient -resize "300x300>" '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc20140115-5147-8bj1bw'
Command :: file -b --mime '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc20140115-5147-8bj1bw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]'
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]'
Command :: identify -format %m '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]'
Command :: convert '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc.jpg[0]' -auto-orient -resize "100x100>" '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc20140115-5147-7yq6wh'
Command :: file -b --mime '/tmp/e3f3ec355c99190a32447f0289aa84b120140115-5147-1vxrnyc20140115-5147-7yq6wh'
  [1m[35mSQL (169.0ms)[0m  UPDATE "users" SET "avatar_file_name" = ?, "avatar_file_size" = ?, "avatar_updated_at" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["avatar_file_name", "nut_dark_full.jpg"], ["avatar_file_size", 52029], ["avatar_updated_at", Wed, 15 Jan 2014 10:53:56 MSK +04:00], ["updated_at", Wed, 15 Jan 2014 10:53:56 MSK +04:00]]
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/original/back.jpg
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/medium/back.jpg
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/thumb/back.jpg
  [1m[36m (102.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 1075ms (ActiveRecord: 272.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:53:56 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:53:58 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (7.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:54:04 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (7.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.0ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:54:05 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (6.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:54:07 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:55:44 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (41.3ms)
  Rendered layouts/_navigation.html.haml (42.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 61ms (Views: 59.5ms | ActiveRecord: 0.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:55:46 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.7ms)
  Rendered users/index.html.haml within layouts/application (42.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 78ms (Views: 71.6ms | ActiveRecord: 2.0ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-15 10:55:49 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 8ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:22:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__1710058648035492097__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/33956700/variables" for 127.0.0.1 at 2014-01-15 10:55:50 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:56:36 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (4.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (3.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (2.8ms)
  Rendered users/index.html.haml within layouts/application (45.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 145ms (Views: 60.7ms | ActiveRecord: 12.5ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-15 10:56:39 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 11ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:22:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__1710058648035492097__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/33882440/variables" for 127.0.0.1 at 2014-01-15 10:56:39 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:56:45 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (74.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 98ms (Views: 89.0ms | ActiveRecord: 2.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:57:53 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.4ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (4.9ms)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (3.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (2.9ms)
  Rendered users/index.html.haml within layouts/application (47.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 187ms (Views: 61.9ms | ActiveRecord: 4.3ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-15 10:57:58 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 8ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:22:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__1710058648035492097__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/69839189078360/variables" for 127.0.0.1 at 2014-01-15 10:57:58 +0400


Started GET "/" for 127.0.0.1 at 2014-01-15 10:58:01 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (3.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:58:02 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:58:07 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (108.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (11.9ms)
  Rendered layouts/_navigation.html.haml (13.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 137ms (Views: 133.6ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 10:59:29 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 10:59:30 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (7.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 28.4ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:59:32 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  Rendered users/_user.html.haml (11.0ms)
  Rendered users/index.html.haml within layouts/application (34.0ms)
Completed 500 Internal Server Error in 45ms

NoMethodError - undefined method `avatar' for nil:NilClass:
  app/views/users/_user.html.haml:12:in `block in _app_views_users__user_html_haml__2998864107042958836_31827300'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:144:in `block (2 levels) in form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers.rb:285:in `with_tabs'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:144:in `block in form_for_with_haml'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:38:in `block in capture'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:200:in `with_output_buffer'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:5:in `with_output_buffer_with_haml_xss'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:38:in `capture'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:59:in `capture_with_haml'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:435:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/users/_user.html.haml:3:in `_app_views_users__user_html_haml__2998864107042958836_31827300'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/partial_renderer.rb:306:in `render_partial'
  actionpack (4.0.0) lib/action_view/renderer/partial_renderer.rb:279:in `block in render'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/partial_renderer.rb:278:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:47:in `render_partial'
  actionpack (4.0.0) lib/action_view/helpers/rendering_helper.rb:27:in `render'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:10:in `block in render_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers.rb:89:in `non_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:10:in `render_with_haml'
  app/views/users/index.html.haml:23:in `block in _app_views_users_index_html_haml__4327204751163924871_35487700'
  activerecord (4.0.0) lib/active_record/relation/delegation.rb:13:in `each'
  app/views/users/index.html.haml:14:in `_app_views_users_index_html_haml__4327204751163924871_35487700'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__1710058648035492097__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/users" for 127.0.0.1 at 2014-01-15 10:59:32 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  Rendered users/_user.html.haml (11.7ms)
  Rendered users/index.html.haml within layouts/application (20.5ms)
Completed 500 Internal Server Error in 30ms

NoMethodError - undefined method `avatar' for nil:NilClass:
  app/views/users/_user.html.haml:12:in `block in _app_views_users__user_html_haml__2998864107042958836_35289360'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:144:in `block (2 levels) in form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers.rb:285:in `with_tabs'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:144:in `block in form_for_with_haml'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:38:in `block in capture'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:200:in `with_output_buffer'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:5:in `with_output_buffer_with_haml_xss'
  actionpack (4.0.0) lib/action_view/helpers/capture_helper.rb:38:in `capture'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:59:in `capture_with_haml'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:435:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/users/_user.html.haml:3:in `_app_views_users__user_html_haml__2998864107042958836_35289360'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/partial_renderer.rb:306:in `render_partial'
  actionpack (4.0.0) lib/action_view/renderer/partial_renderer.rb:279:in `block in render'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/partial_renderer.rb:278:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:47:in `render_partial'
  actionpack (4.0.0) lib/action_view/helpers/rendering_helper.rb:27:in `render'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:10:in `block in render_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers.rb:89:in `non_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:10:in `render_with_haml'
  app/views/users/index.html.haml:23:in `block in _app_views_users_index_html_haml__4327204751163924871_33735500'
  activerecord (4.0.0) lib/active_record/relation/delegation.rb:13:in `each'
  app/views/users/index.html.haml:14:in `_app_views_users_index_html_haml__4327204751163924871_33735500'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__1710058648035492097__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/35539780/variables" for 127.0.0.1 at 2014-01-15 10:59:32 +0400


Started GET "/users" for 127.0.0.1 at 2014-01-15 10:59:48 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (13.8ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.1ms)
  Rendered users/index.html.haml within layouts/application (42.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.7ms)
  Rendered layouts/_navigation.html.haml (3.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 115ms (Views: 106.7ms | ActiveRecord: 2.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 11:00:15 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.1ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.1ms)
  Rendered users/index.html.haml within layouts/application (31.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (3.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 259ms (Views: 251.8ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 11:00:32 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.1ms)
  Rendered users/index.html.haml within layouts/application (31.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 87ms (Views: 80.2ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 11:00:45 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (1.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (8.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.1ms)
  Rendered users/index.html.haml within layouts/application (41.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 114ms (Views: 93.0ms | ActiveRecord: 3.4ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 11:01:18 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (35.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (15.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (84.6ms)
  Rendered users/index.html.haml within layouts/application (175.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.5ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 444ms (Views: 436.7ms | ActiveRecord: 2.6ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 11:01:37 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (13.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.1ms)
  Rendered users/index.html.haml within layouts/application (39.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 61ms (Views: 53.8ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 11:02:12 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (13.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.2ms)
  Rendered users/index.html.haml within layouts/application (40.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.6ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 68ms (Views: 59.7ms | ActiveRecord: 2.2ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-15 11:02:38 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"testt", "email"=>"test@test.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role_ids"=>"2"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 48ms

ActiveModel::ForbiddenAttributesError - ActiveModel::ForbiddenAttributesError:
  activemodel (4.0.0) lib/active_model/forbidden_attributes_protection.rb:21:in `sanitize_for_mass_assignment'
  activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
  activerecord (4.0.0) lib/active_record/persistence.rb:229:in `block in update'
  activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.0) lib/active_record/persistence.rb:228:in `update'
  app/controllers/users_controller.rb:22:in `update'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__1710058648035492097__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4494198016400297989__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/69839192611100/variables" for 127.0.0.1 at 2014-01-15 11:02:38 +0400


Started GET "/" for 127.0.0.1 at 2014-01-15 11:02:47 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 11:03:11 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 11:03:13 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 11:08:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (7.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (25.4ms)
  Rendered layouts/_navigation.html.haml (29.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 425ms (Views: 279.4ms | ActiveRecord: 22.2ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 11:09:00 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (8.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 33ms (Views: 30.4ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 11:09:19 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x000000040a0330 @tempfile=#<File:/tmp/RackMultipart20140115-5147-hccx77>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">, "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]'
Command :: convert '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]' -auto-orient -resize "300x300>" '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff20140115-5147-1ypcp6c'
Command :: file -b --mime '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff20140115-5147-1ypcp6c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]'
Command :: convert '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff.jpg[0]' -auto-orient -resize "100x100>" '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff20140115-5147-130wp8f'
Command :: file -b --mime '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-vpi8ff20140115-5147-130wp8f'
  [1m[36mSQL (28.1ms)[0m  [1mUPDATE "users" SET "avatar_file_name" = ?, "avatar_file_size" = ?, "avatar_updated_at" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["avatar_file_name", "back.jpg"], ["avatar_file_size", 67302], ["avatar_updated_at", Wed, 15 Jan 2014 11:09:19 MSK +04:00], ["updated_at", Wed, 15 Jan 2014 11:09:21 MSK +04:00]]
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/original/nut_dark_full.jpg
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/medium/nut_dark_full.jpg
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/thumb/nut_dark_full.jpg
  [1m[35m (125.3ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 1924ms (ActiveRecord: 154.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 11:09:21 +0400
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 90ms (Views: 87.6ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2014-01-15 11:09:59 +0400
Processing by RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qL+2DuUOpzySyfkggug13ZogEIQX3+EJt4P/9e0eQ2A=", "user"=>{"name"=>"Администратор", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x00000003b4de28 @tempfile=#<File:/tmp/RackMultipart20140115-5147-1v8fh6b>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[avatar]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">, "email"=>"admin@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Сохранить"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]'
Command :: convert '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]' -auto-orient -resize "300x300>" '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl20140115-5147-a6c586'
Command :: file -b --mime '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl20140115-5147-a6c586'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]'
Command :: identify -format %m '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]'
Command :: convert '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl.jpg[0]' -auto-orient -resize "100x100>" '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl20140115-5147-19su4ur'
Command :: file -b --mime '/tmp/469bba0a564235dfceede42db14f17b020140115-5147-1x22zxl20140115-5147-19su4ur'
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "avatar_updated_at" = ?, "avatar_file_name" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["avatar_updated_at", Wed, 15 Jan 2014 11:09:59 MSK +04:00], ["avatar_file_name", "back.jpg"], ["updated_at", Wed, 15 Jan 2014 11:10:01 MSK +04:00]]
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/original/back.jpg
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/medium/back.jpg
[paperclip] deleting /home/nikita/mem/fileapp/public/system/users/avatars/000/000/002/thumb/back.jpg
  [1m[36m (364.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 3257ms (ActiveRecord: 366.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 11:10:02 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 37ms (Views: 35.2ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-15 11:10:06 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (7.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 28.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 11:10:10 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (5.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-15 11:10:19 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (13.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (14.2ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.1ms)
  Rendered users/index.html.haml within layouts/application (92.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 134ms (Views: 103.9ms | ActiveRecord: 15.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-15 11:11:56 +0400
Processing by HomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered home/index.html.haml within layouts/application (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUploads (20140115063031)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "uploads" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "upload_file_name" varchar(255), "upload_content_type" varchar(255), "upload_file_size" integer, "upload_updated_at" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (14.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140115063031"]]
  [1m[36m (140.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"


Started GET "/" for 127.0.0.1 at 2014-01-17 10:14:33 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 134ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 10:14:34 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.3ms)
  Rendered devise/sessions/new.html.haml within layouts/application (135.0ms)
  Rendered layouts/_navigation_links.html.haml (5.3ms)
  Rendered layouts/_navigation.html.haml (9.3ms)
  Rendered layouts/_messages.html.haml (3.1ms)
Completed 200 OK in 1143ms (Views: 1041.1ms | ActiveRecord: 0.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-17 10:14:43 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p9ThopPH3PlUq8qj+VTVFRC0YKSxYoq5Ze4ZAt3XzmY=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (379.8ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Tue, 14 Jan 2014 13:23:51 MSK +04:00], ["current_sign_in_at", Fri, 17 Jan 2014 10:14:43 MSK +04:00], ["sign_in_count", 25], ["updated_at", Fri, 17 Jan 2014 10:14:43 MSK +04:00]]
  [1m[36m (602.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 1386ms (ActiveRecord: 982.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:14:44 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 6ms

RuntimeError - `attr_accessible` is extracted out of Rails into a gem. Please use new recommended protection model for params(strong_parameters) or add `protected_attributes` to your Gemfile to use old one.:
  activemodel (4.0.0) lib/active_model/deprecated_mass_assignment_security.rb:17:in `attr_accessible'
  app/models/upload.rb:2:in `<class:Upload>'
  app/models/upload.rb:1:in `<top (required)>'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/dependencies.rb:494:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  app/controllers/uploads_controller.rb:6:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__2234477495903565542__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2641210499246914107__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/31011760/variables" for 127.0.0.1 at 2014-01-17 10:14:44 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 10:18:47 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.erb within layouts/application (31.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (255.0ms)
  Rendered layouts/_navigation.html.haml (256.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 386ms (Views: 325.3ms | ActiveRecord: 2.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:18:48 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:18:49 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.erb within layouts/application (1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:18:49 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 10:19:05 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"49NE9dhLHKvOVkzPMKFHroI2reH5JGykkn3F6d7bp3w=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007fe31c7c16e8 @tempfile=#<File:/tmp/RackMultipart20140117-6406-5arlon>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 60ms

NameError - undefined local variable or method `upload_params' for #<UploadsController:0x007fe31c7c22a0>:
  app/controllers/uploads_controller.rb:41:in `create'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__2234477495903565542__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2641210499246914107__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 10:19:10 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.erb within layouts/application (1.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:19:11 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (5.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:19:11 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.erb within layouts/application (1.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:19:12 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:19:12 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.erb within layouts/application (4.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 33ms (Views: 26.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:19:13 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:19:36 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.erb within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:19:37 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 123ms

RuntimeError - `attr_accessible` is extracted out of Rails into a gem. Please use new recommended protection model for params(strong_parameters) or add `protected_attributes` to your Gemfile to use old one.:
  activemodel (4.0.0) lib/active_model/deprecated_mass_assignment_security.rb:17:in `attr_accessible'
  app/models/upload.rb:2:in `<class:Upload>'
  app/models/upload.rb:1:in `<top (required)>'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/dependencies.rb:494:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  app/controllers/uploads_controller.rb:6:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__2234477495903565542__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2641210499246914107__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 10:19:38 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 5ms

RuntimeError - `attr_accessible` is extracted out of Rails into a gem. Please use new recommended protection model for params(strong_parameters) or add `protected_attributes` to your Gemfile to use old one.:
  activemodel (4.0.0) lib/active_model/deprecated_mass_assignment_security.rb:17:in `attr_accessible'
  app/models/upload.rb:2:in `<class:Upload>'
  app/models/upload.rb:1:in `<top (required)>'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/dependencies.rb:494:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  app/controllers/uploads_controller.rb:6:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__2234477495903565542__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2641210499246914107__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/33228320/variables" for 127.0.0.1 at 2014-01-17 10:19:38 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 10:21:21 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.erb within layouts/application (74.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (189.3ms)
  Rendered layouts/_navigation.html.haml (193.6ms)
  Rendered layouts/_messages.html.haml (2.9ms)
Completed 200 OK in 887ms (Views: 679.5ms | ActiveRecord: 2.4ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:21:23 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 10:21:29 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"49NE9dhLHKvOVkzPMKFHroI2reH5JGykkn3F6d7bp3w=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007ffaf89a1758 @tempfile=#<File:/tmp/RackMultipart20140117-6835-l7y1hb>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.4ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 10:21:29 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 10:21:29 MSK +04:00]]
  [1m[36m (217.2ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 237ms (Views: 0.9ms | ActiveRecord: 223.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:21:31 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.erb within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.2ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:21:32 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:22:06 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.erb within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:22:07 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (7.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 8.0ms)


Started DELETE "/uploads/1" for 127.0.0.1 at 2014-01-17 10:22:10 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (11.6ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 1]]
  [1m[35m (134.7ms)[0m  commit transaction
Completed 204 No Content in 153ms (ActiveRecord: 147.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:22:12 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.erb within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:22:12 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 10:22:22 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"49NE9dhLHKvOVkzPMKFHroI2reH5JGykkn3F6d7bp3w=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007ffae02058e0 @tempfile=#<File:/tmp/RackMultipart20140117-6835-1rtxbbg>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 17 Jan 2014 10:22:22 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 10:22:22 MSK +04:00]]
  [1m[35m (131.2ms)[0m  commit transaction
Completed 201 Created in 143ms (Views: 0.8ms | ActiveRecord: 132.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:24:17 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (85.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (199.2ms)
  Rendered layouts/_navigation.html.haml (203.4ms)
  Rendered layouts/_messages.html.haml (2.9ms)
Completed 200 OK in 797ms (Views: 625.5ms | ActiveRecord: 2.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:24:19 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.4ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 18ms (Views: 0.5ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:24:21 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 26.9ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:24:21 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 12ms (Views: 7.6ms | ActiveRecord: 0.5ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 10:24:27 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"49NE9dhLHKvOVkzPMKFHroI2reH5JGykkn3F6d7bp3w=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f5820074778 @tempfile=#<File:/tmp/RackMultipart20140117-7112-19r21ol>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (97.1ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 10:24:27 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 10:24:27 MSK +04:00]]
  [1m[36m (131.8ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 243ms (Views: 0.9ms | ActiveRecord: 229.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:25:30 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.4ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:25:31 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:25:50 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:25:51 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:26:13 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (24.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (9.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 63ms (Views: 57.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:26:14 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:26:27 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (15.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 68ms (Views: 64.0ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:26:28 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:26:28 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:26:29 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:26:29 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:26:50 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (15.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 95ms (Views: 91.5ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:26:51 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 19ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:26:52 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:26:52 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 19ms (Views: 5.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:26:59 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (12.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 92ms (Views: 33.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:26:59 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 27ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:27:11 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.5ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:27:12 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.4ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:27:51 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:27:52 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started DELETE "/uploads/2" for 127.0.0.1 at 2014-01-17 10:27:59 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "2"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (9.8ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 2]]
  [1m[35m (209.0ms)[0m  commit transaction
Completed 204 No Content in 227ms (ActiveRecord: 219.8ms)


Started DELETE "/uploads/3" for 127.0.0.1 at 2014-01-17 10:27:59 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 3]]
  [1m[36m (138.6ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 145ms (ActiveRecord: 139.5ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 10:28:31 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"49NE9dhLHKvOVkzPMKFHroI2reH5JGykkn3F6d7bp3w=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f5800114298 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1klw6fh>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 10:28:31 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 10:28:31 MSK +04:00]]
  [1m[36m (137.9ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 150ms (Views: 0.8ms | ActiveRecord: 139.0ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 10:28:31 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"49NE9dhLHKvOVkzPMKFHroI2reH5JGykkn3F6d7bp3w=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f5810254508 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1n5hw6c>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 10:28:31 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 10:28:31 MSK +04:00]]
  [1m[36m (134.6ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 147ms (Views: 0.8ms | ActiveRecord: 135.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:28:40 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.7ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 82ms (Views: 79.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:28:40 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 14ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 10:28:48 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"49NE9dhLHKvOVkzPMKFHroI2reH5JGykkn3F6d7bp3w=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f5820be1110 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1vuua8a>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 10:28:48 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 10:28:48 MSK +04:00]]
  [1m[36m (335.7ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 348ms (Views: 0.8ms | ActiveRecord: 336.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:28:49 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:28:50 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (5.8ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 15ms (Views: 0.6ms | ActiveRecord: 6.2ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:30:43 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (14.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 36.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:30:44 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:30:45 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:30:49 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (12.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:30:49 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 27ms (Views: 10.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:30:50 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:30:50 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:30:51 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (5.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.8ms)
  Rendered layouts/_navigation.html.haml (5.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 30.5ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:30:51 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (3.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 28ms (Views: 0.7ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:31:59 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:32:00 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 37ms (Views: 4.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:32:06 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:32:07 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:32:15 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:32:16 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 20ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:32:46 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.8ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.1ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:32:46 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:32:46 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:32:46 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:32:47 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:32:47 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 64ms (Views: 0.7ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-17 10:32:49 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"49NE9dhLHKvOVkzPMKFHroI2reH5JGykkn3F6d7bp3w="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 300ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:32:49 +0400
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 12ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 10:32:49 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.1ms)
  Rendered devise/sessions/new.html.haml within layouts/application (111.9ms)
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 144ms (Views: 135.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:32:51 +0400
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 2ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 10:32:51 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 29ms (Views: 26.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:32:52 +0400
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 2ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 10:32:52 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.2ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-17 10:33:02 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SKZGYWsfh2/Tl899cn1zMC/Gy+VzHvis1S7Fb3Losjk=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
Completed 401 Unauthorized in 4ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SKZGYWsfh2/Tl899cn1zMC/Gy+VzHvis1S7Fb3Losjk=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
WARNING: Can't mass-assign protected attributes for User: email, password, remember_me

  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (6.5ms)
  Rendered layouts/_navigation_links.html.haml (0.8ms)
  Rendered layouts/_navigation.html.haml (1.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 33ms (Views: 25.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-17 10:33:03 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SKZGYWsfh2/Tl899cn1zMC/Gy+VzHvis1S7Fb3Losjk=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["last_sign_in_at", Fri, 17 Jan 2014 10:14:43 MSK +04:00], ["current_sign_in_at", Fri, 17 Jan 2014 10:33:03 MSK +04:00], ["sign_in_count", 26], ["updated_at", Fri, 17 Jan 2014 10:33:03 MSK +04:00]]
  [1m[35m (130.4ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 379ms (ActiveRecord: 131.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:33:04 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:33:04 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 16ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:33:06 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 25.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:33:06 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 13ms (Views: 0.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:33:34 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 32.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:33:35 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 18ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:34:15 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:34:15 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 21ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:34:16 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:34:17 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.5ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 18ms (Views: 0.6ms | ActiveRecord: 0.9ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 10:34:22 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000375b6a8 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1gn2u1i>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 17 Jan 2014 10:34:22 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 10:34:22 MSK +04:00]]
  [1m[35m (147.8ms)[0m  commit transaction
Completed 201 Created in 160ms (Views: 0.8ms | ActiveRecord: 148.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:34:46 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (13.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 34.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:34:46 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:34:47 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:34:47 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 32ms (Views: 1.9ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:35:17 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (16.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 43ms (Views: 39.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:35:17 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 15ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:35:26 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (69.6ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.7ms)
  Rendered layouts/_navigation.html.haml (7.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 100ms (Views: 96.6ms | ActiveRecord: 0.7ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:35:26 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 16ms (Views: 0.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:35:31 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (21.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.2ms)
  Rendered layouts/_navigation.html.haml (6.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 59ms (Views: 51.5ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:35:31 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.4ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:37:54 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (13.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:37:55 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.4ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 22ms (Views: 0.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:38:10 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (17.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 37.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:38:11 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 15ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:38:21 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (13.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 166ms (Views: 163.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:38:22 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:38:34 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (22.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (5.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 49ms (Views: 45.6ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:38:35 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:38:45 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (13.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:38:45 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 14ms (Views: 1.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:40:01 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 93ms (Views: 89.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:40:01 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:40:02 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.4ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:40:03 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 36ms (Views: 5.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:40:38 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (15.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 36.4ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:40:38 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:40:40 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:40:40 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 27ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:41:01 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (15.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 41ms (Views: 38.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:41:01 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 17ms (Views: 0.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:41:02 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:41:03 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:41:27 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 33.3ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:41:28 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 20ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:41:28 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:41:29 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 17ms (Views: 1.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:41:29 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (4.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 33ms (Views: 29.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:41:29 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 16ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:41:47 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (13.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:41:48 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 30ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:42:16 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (14.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 39ms (Views: 35.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:42:17 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (3.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 21ms (Views: 0.8ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:42:28 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (15.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 94ms (Views: 91.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:42:29 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:42:49 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (4.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:42:49 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.4ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 19ms (Views: 0.7ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:44:04 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (68.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 94ms (Views: 90.5ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:44:05 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 16ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:44:41 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:44:41 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 16ms (Views: 4.3ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:45:32 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (16.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:45:32 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 26ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:46:57 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (13.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 33.9ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:46:57 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:47:06 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:47:07 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:48:17 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (16.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 229ms (Views: 224.7ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:48:18 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:48:19 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:48:19 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (1.0ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:48:21 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.4ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:48:21 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 14ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:49:03 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 37ms (Views: 33.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:49:04 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 19ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:49:04 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 82ms (Views: 78.8ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:49:05 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:49:36 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (13.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:49:36 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 91ms (Views: 0.9ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:49:37 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:49:37 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:50:11 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (15.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 40ms (Views: 37.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:50:11 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 17ms (Views: 0.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:50:36 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.6ms)
  Rendered layouts/_navigation.html.haml (4.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:50:37 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (5.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 17ms (Views: 0.7ms | ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:50:52 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (9.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (5.5ms)
  Rendered layouts/_navigation.html.haml (6.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 49ms (Views: 42.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:50:52 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 19ms (Views: 1.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:51:10 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
  Rendered uploads/index.html.haml within layouts/application (32.9ms)
Completed 500 Internal Server Error in 40ms

NameError - undefined local variable or method `file' for #<#<Class:0x0000000300a6b0>:0x00000003785228>:
  app/views/uploads/index.html.haml:44:in `_app_views_uploads_index_html_haml__403091580860427129_29104580'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:8:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__3604224200390296359__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__218478733482284747__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/30220060/variables" for 127.0.0.1 at 2014-01-17 10:51:10 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 10:51:12 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
  Rendered uploads/index.html.haml within layouts/application (23.0ms)
Completed 500 Internal Server Error in 32ms

NameError - undefined local variable or method `file' for #<#<Class:0x0000000300a6b0>:0x000000035dffb8>:
  app/views/uploads/index.html.haml:44:in `_app_views_uploads_index_html_haml__403091580860427129_29104580'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:8:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__3604224200390296359__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__218478733482284747__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/28307240/variables" for 127.0.0.1 at 2014-01-17 10:51:12 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 10:51:21 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:51:22 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:56:04 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (10.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (11.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 99ms (Views: 86.1ms | ActiveRecord: 10.4ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:56:05 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 19ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m


Started GET "/" for 127.0.0.1 at 2014-01-17 10:58:40 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (12.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 32.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:58:41 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:58:54 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (23.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 49ms (Views: 44.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:58:55 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 10:59:28 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (13.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 10:59:28 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 13ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:00:19 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (57.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 82ms (Views: 78.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:00:19 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:04:24 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (21.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (12.1ms)
  Rendered layouts/_navigation.html.haml (13.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 168ms (Views: 103.3ms | ActiveRecord: 3.1ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:04:25 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 12ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:04:26 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.7ms)
  Rendered layouts/_navigation.html.haml (4.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:04:26 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 17ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:04:30 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f582025c658 @tempfile=#<File:/tmp/RackMultipart20140117-7112-icez3f>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (37.9ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 17 Jan 2014 11:04:30 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:04:30 MSK +04:00]]
  [1m[35m (135.7ms)[0m  commit transaction
Completed 201 Created in 187ms (Views: 0.8ms | ActiveRecord: 174.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:04:31 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:04:31 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 28ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:04:32 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.5ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:04:32 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 30ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" ORDER BY "uploads"."id" DESC LIMIT 1


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:13 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (22.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (13.0ms)
  Rendered layouts/_navigation.html.haml (14.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 171ms (Views: 52.9ms | ActiveRecord: 2.7ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:14 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 29ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:15 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (3.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.4ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:15 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:29 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:29 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 17ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:07:34 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000039edc18 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1x1y9f5>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
Unpermitted parameters: upload
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 17 Jan 2014 11:07:34 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:07:34 MSK +04:00]]
  [1m[35m (235.0ms)[0m  commit transaction
Completed 201 Created in 245ms (Views: 0.8ms | ActiveRecord: 236.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:36 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:36 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:37 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:37 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 16ms (Views: 4.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:37 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.7ms)
  Rendered layouts/_navigation.html.haml (5.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 33ms (Views: 28.5ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:38 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:38 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 30ms (Views: 1.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:38 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:39 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 25ms (Views: 1.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:41 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:41 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-17 11:07:42 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (15.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (6.4ms)
  Rendered layouts/_navigation.html.haml (10.2ms)
  Rendered layouts/_messages.html.haml (2.8ms)
Completed 200 OK in 67ms (Views: 63.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:45 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:45 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 12ms (Views: 1.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:07:46 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:07:47 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 18ms (Views: 2.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:12:07 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (77.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (23.4ms)
  Rendered layouts/_navigation.html.haml (24.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 417ms (Views: 293.9ms | ActiveRecord: 18.4ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:12:09 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 29ms (Views: 1.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:12:47 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 24.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:12:48 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 11ms (Views: 1.2ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:12:53 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000375e240 @tempfile=#<File:/tmp/RackMultipart20140117-7112-7gbrfd>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
Unpermitted parameters: upload
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (50.8ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 17 Jan 2014 11:12:53 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:12:53 MSK +04:00]]
  [1m[35m (139.1ms)[0m  commit transaction
Completed 201 Created in 199ms (Views: 0.8ms | ActiveRecord: 190.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:12:55 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:12:55 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 28ms (Views: 1.1ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:12:56 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 23.5ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:12:56 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 13ms (Views: 1.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:15:19 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (21.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (17.3ms)
  Rendered layouts/_navigation.html.haml (18.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 205ms (Views: 55.3ms | ActiveRecord: 14.1ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:15:20 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 27ms (Views: 1.1ms | ActiveRecord: 0.7ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:15:27 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f581c152838 @tempfile=#<File:/tmp/RackMultipart20140117-7112-zt18cd>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
Unpermitted parameters: upload
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 17 Jan 2014 11:15:27 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:15:27 MSK +04:00]]
  [1m[35m (122.6ms)[0m  commit transaction
Completed 201 Created in 133ms (Views: 1.0ms | ActiveRecord: 123.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:15:29 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 42ms (Views: 37.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:15:29 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 23ms (Views: 1.3ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:15:30 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 22.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:15:30 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 11ms (Views: 1.3ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:18:24 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (23.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (24.9ms)
  Rendered layouts/_navigation.html.haml (26.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 294ms (Views: 112.7ms | ActiveRecord: 18.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:18:25 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 15ms (Views: 1.2ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:18:32 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f5810280018 @tempfile=#<File:/tmp/RackMultipart20140117-7112-k7meso>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
Unpermitted parameters: upload
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (53.2ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Fri, 17 Jan 2014 11:18:32 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:18:32 MSK +04:00]]
  [1m[35m (238.6ms)[0m  commit transaction
Completed 201 Created in 301ms (Views: 0.8ms | ActiveRecord: 292.3ms)


Started DELETE "/uploads/4" for 127.0.0.1 at 2014-01-17 11:18:36 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 4]]
  [1m[36m (148.5ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 160ms (ActiveRecord: 149.8ms)


Started DELETE "/uploads/8" for 127.0.0.1 at 2014-01-17 11:18:36 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.1ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "8"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 8]]
  [1m[35m (145.0ms)[0m  commit transaction
Completed 204 No Content in 153ms (ActiveRecord: 146.0ms)


Started DELETE "/uploads/5" for 127.0.0.1 at 2014-01-17 11:18:36 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "5"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 5]]
  [1m[36m (120.3ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 127ms (ActiveRecord: 121.2ms)


Started DELETE "/uploads/7" for 127.0.0.1 at 2014-01-17 11:18:37 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.1ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "7"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 7]]
  [1m[35m (128.9ms)[0m  commit transaction
Completed 204 No Content in 138ms (ActiveRecord: 129.8ms)


Started DELETE "/uploads/6" for 127.0.0.1 at 2014-01-17 11:18:37 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 6]]
  [1m[36m (181.3ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 187ms (ActiveRecord: 182.1ms)


Started DELETE "/uploads/9" for 127.0.0.1 at 2014-01-17 11:18:37 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.1ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "9"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 9]]
  [1m[35m (120.7ms)[0m  commit transaction
Completed 204 No Content in 127ms (ActiveRecord: 121.6ms)


Started DELETE "/uploads/10" for 127.0.0.1 at 2014-01-17 11:18:37 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 10]]
  [1m[36m (205.7ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 213ms (ActiveRecord: 206.6ms)


Started DELETE "/uploads/11" for 127.0.0.1 at 2014-01-17 11:18:37 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"11"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.1ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "11"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 11]]
  [1m[35m (121.4ms)[0m  commit transaction
Completed 204 No Content in 128ms (ActiveRecord: 122.2ms)


Started DELETE "/uploads/12" for 127.0.0.1 at 2014-01-17 11:18:37 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "12"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 12]]
  [1m[36m (122.2ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 129ms (ActiveRecord: 123.1ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:18:41 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000038292b0 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1ppxs01>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Unpermitted parameters: upload
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:18:41 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:18:41 MSK +04:00]]
  [1m[36m (201.9ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 210ms (Views: 0.8ms | ActiveRecord: 202.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:20:26 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 86ms (Views: 82.8ms | ActiveRecord: 0.8ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:20:26 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-17 11:20:30 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (7.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 98ms (Views: 94.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:20:31 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:20:31 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:20:56 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 28.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:20:56 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.4ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 13ms (Views: 5.1ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:25:08 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (20.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (18.6ms)
  Rendered layouts/_navigation.html.haml (19.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 146ms (Views: 55.4ms | ActiveRecord: 13.8ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:25:08 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 20ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:25:13 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f58200f0300 @tempfile=#<File:/tmp/RackMultipart20140117-7112-15shxjf>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:25:13 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:25:13 MSK +04:00]]
  [1m[36m (296.5ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 311ms (Views: 0.8ms | ActiveRecord: 297.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:25:15 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:25:16 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (5.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 16ms (Views: 0.6ms | ActiveRecord: 6.1ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:26:05 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f581041c638 @tempfile=#<File:/tmp/RackMultipart20140117-7112-ojn9n0>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:26:05 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:26:05 MSK +04:00]]
  [1m[36m (144.8ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 157ms (Views: 0.8ms | ActiveRecord: 145.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:27:17 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (83.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (13.5ms)
  Rendered layouts/_navigation.html.haml (14.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 174ms (Views: 115.0ms | ActiveRecord: 2.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:27:18 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 18ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:27:21 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f581022a730 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1ty6il3>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:27:21 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:27:21 MSK +04:00]]
  [1m[36m (136.0ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 150ms (Views: 0.8ms | ActiveRecord: 137.2ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:31:34 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (21.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (70.3ms)
  Rendered layouts/_navigation.html.haml (71.5ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 167ms (Views: 108.6ms | ActiveRecord: 2.4ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:31:35 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 17ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:31:39 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f581c1c5770 @tempfile=#<File:/tmp/RackMultipart20140117-7112-s6y8rn>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Unpermitted parameters: upload
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:31:39 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:31:39 MSK +04:00]]
  [1m[36m (127.3ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 137ms (Views: 0.8ms | ActiveRecord: 128.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:31:41 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 27.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:31:42 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" ORDER BY "uploads"."id" DESC LIMIT 1[0m


Started GET "/" for 127.0.0.1 at 2014-01-17 11:33:16 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (23.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (13.1ms)
  Rendered layouts/_navigation.html.haml (14.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 176ms (Views: 53.6ms | ActiveRecord: 2.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:33:16 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:33:20 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f58103409a8 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1yadm9j>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Unpermitted parameters: upload
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:33:20 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:33:20 MSK +04:00]]
  [1m[36m (129.6ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 140ms (Views: 0.8ms | ActiveRecord: 130.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:33:22 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 86ms (Views: 83.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:33:23 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 46ms (Views: 9.0ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:34:03 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (21.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (11.8ms)
  Rendered layouts/_navigation.html.haml (12.8ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 171ms (Views: 50.0ms | ActiveRecord: 2.3ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:34:04 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 30ms (Views: 1.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:34:05 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (3.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:34:05 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 22ms (Views: 1.7ms | ActiveRecord: 0.7ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:34:08 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f5810319678 @tempfile=#<File:/tmp/RackMultipart20140117-7112-1vi6x1f>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Unpermitted parameters: upload
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:34:08 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:34:08 MSK +04:00]]
  [1m[36m (218.2ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 228ms (Views: 0.8ms | ActiveRecord: 219.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:35:33 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (20.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (12.2ms)
  Rendered layouts/_navigation.html.haml (13.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 112ms (Views: 50.3ms | ActiveRecord: 2.4ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:35:34 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 17ms (Views: 1.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:36:08 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (99.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (255.7ms)
  Rendered layouts/_navigation.html.haml (260.3ms)
  Rendered layouts/_messages.html.haml (2.9ms)
Completed 200 OK in 1271ms (Views: 1027.1ms | ActiveRecord: 2.4ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:36:10 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 13ms (Views: 1.3ms | ActiveRecord: 0.7ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:36:15 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007effac0419d0 @tempfile=#<File:/tmp/RackMultipart20140117-12403-gcf7ub>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (19.0ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:36:15 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:36:15 MSK +04:00]]
  [1m[36m (250.0ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 283ms (Views: 0.9ms | ActiveRecord: 269.5ms)


Started DELETE "/uploads/13" for 127.0.0.1 at 2014-01-17 11:36:18 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"13"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.4ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "13"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 13]]
  [1m[35m (109.0ms)[0m  commit transaction
Completed 204 No Content in 117ms (ActiveRecord: 110.3ms)


Started DELETE "/uploads/18" for 127.0.0.1 at 2014-01-17 11:36:18 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "18"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 18]]
  [1m[36m (114.2ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 121ms (ActiveRecord: 115.3ms)


Started DELETE "/uploads/16" for 127.0.0.1 at 2014-01-17 11:36:18 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"16"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "16"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 16]]
  [1m[35m (120.0ms)[0m  commit transaction
Completed 204 No Content in 135ms (ActiveRecord: 121.1ms)


Started DELETE "/uploads/15" for 127.0.0.1 at 2014-01-17 11:36:18 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "15"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 15]]
  [1m[36m (114.9ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 121ms (ActiveRecord: 115.7ms)


Started DELETE "/uploads/17" for 127.0.0.1 at 2014-01-17 11:36:18 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"17"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "17"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 17]]
  [1m[35m (114.5ms)[0m  commit transaction
Completed 204 No Content in 122ms (ActiveRecord: 115.4ms)


Started DELETE "/uploads/14" for 127.0.0.1 at 2014-01-17 11:36:18 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "14"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 14]]
  [1m[36m (171.9ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 178ms (ActiveRecord: 172.7ms)


Started DELETE "/uploads/19" for 127.0.0.1 at 2014-01-17 11:36:18 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"19"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.1ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "19"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 19]]
  [1m[35m (114.8ms)[0m  commit transaction
Completed 204 No Content in 121ms (ActiveRecord: 115.6ms)


Started DELETE "/uploads/20" for 127.0.0.1 at 2014-01-17 11:36:19 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "20"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 20]]
  [1m[36m (123.1ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 129ms (ActiveRecord: 123.9ms)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:37:09 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007effac217d18 @tempfile=#<File:/tmp/RackMultipart20140117-12403-1diqy5b>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (17.1ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:37:09 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:37:09 MSK +04:00]]
  [1m[36m (146.9ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 175ms (Views: 0.8ms | ActiveRecord: 164.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:39:46 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (19.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (20.5ms)
  Rendered layouts/_navigation.html.haml (21.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 199ms (Views: 129.1ms | ActiveRecord: 2.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:39:48 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:39:52 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007effac2a65b8 @tempfile=#<File:/tmp/RackMultipart20140117-12403-c6qzfp>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:39:52 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:39:52 MSK +04:00]]
  [1m[36m (129.0ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 143ms (Views: 0.8ms | ActiveRecord: 130.3ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:40:54 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (170.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (297.7ms)
  Rendered layouts/_navigation.html.haml (302.1ms)
  Rendered layouts/_messages.html.haml (2.9ms)
Completed 200 OK in 1662ms (Views: 1432.2ms | ActiveRecord: 2.7ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:40:56 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.4ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 0.7ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:41:01 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007fb9d8c28c58 @tempfile=#<File:/tmp/RackMultipart20140117-12646-16fmrzn>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (51.3ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:41:01 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:41:01 MSK +04:00]]
  [1m[36m (289.2ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 355ms (Views: 1.0ms | ActiveRecord: 341.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:41:03 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.5ms)
  Rendered layouts/_navigation.html.haml (4.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 32ms (Views: 27.0ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:41:03 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 26ms (Views: 4.2ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:41:17 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007fb9d8a3d948 @tempfile=#<File:/tmp/RackMultipart20140117-12646-1tc61fw>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
WARNING: Can't mass-assign protected attributes for Upload: upload
	app/controllers/uploads_controller.rb:41:in `create'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Fri, 17 Jan 2014 11:41:17 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:41:17 MSK +04:00]]
  [1m[36m (126.1ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 139ms (Views: 0.8ms | ActiveRecord: 127.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:42:52 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (72.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (12.4ms)
  Rendered layouts/_navigation.html.haml (13.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 166ms (Views: 101.7ms | ActiveRecord: 2.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:42:53 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 18ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:42:54 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:42:55 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.9ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-17 11:42:55 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (434.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (6.6ms)
  Rendered layouts/_navigation.html.haml (63.4ms)
  Rendered layouts/_messages.html.haml (2.9ms)
Completed 200 OK in 605ms (Views: 532.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:42:57 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:42:57 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.4ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 0.8ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:43:04 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000449ea18 @tempfile=#<File:/tmp/RackMultipart20140117-12646-8jwtsn>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 11:43:04 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:43:04 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 11:43:04 MSK +04:00]]
  [1m[36m (123.4ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 145ms (Views: 0.9ms | ActiveRecord: 124.9ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:43:06 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:43:06 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 114ms (Views: 91.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:43:09 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 33ms (Views: 29.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:43:10 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
Completed 200 OK in 13ms (Views: 2.2ms | ActiveRecord: 0.6ms)


Started DELETE "/uploads/21" for 127.0.0.1 at 2014-01-17 11:43:12 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"21"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "21"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (16.2ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 21]]
  [1m[35m (133.4ms)[0m  commit transaction
Completed 204 No Content in 158ms (ActiveRecord: 150.6ms)


Started DELETE "/uploads/23" for 127.0.0.1 at 2014-01-17 11:43:12 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "23"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 23]]
  [1m[36m (112.9ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 122ms (ActiveRecord: 113.8ms)


Started DELETE "/uploads/22" for 127.0.0.1 at 2014-01-17 11:43:12 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"22"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.1ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "22"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 22]]
  [1m[35m (116.1ms)[0m  commit transaction
Completed 204 No Content in 122ms (ActiveRecord: 116.9ms)


Started DELETE "/uploads/24" for 127.0.0.1 at 2014-01-17 11:43:12 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"24"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "24"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 24]]
  [1m[36m (113.8ms)[0m  [1mcommit transaction[0m
Completed 204 No Content in 121ms (ActiveRecord: 114.7ms)


Started DELETE "/uploads/25" for 127.0.0.1 at 2014-01-17 11:43:13 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"25"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.1ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "25"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 25]]
  [1m[35m (119.1ms)[0m  commit transaction
[paperclip] deleting /home/nikita/mem/fileapp/public/system/uploads/uploads/000/000/025/original/back.jpg
Completed 204 No Content in 130ms (ActiveRecord: 120.0ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 11:43:20 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007fb9c8229de8 @tempfile=#<File:/tmp/RackMultipart20140117-12646-lqnpfg>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `upload_content_type`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 17 Jan 2014 11:43:20 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 11:43:20 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 11:43:20 MSK +04:00]]
  [1m[35m (184.4ms)[0m  commit transaction
Completed 201 Created in 203ms (Views: 0.8ms | ActiveRecord: 185.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:43:22 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (57.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.6ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 84ms (Views: 80.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:43:22 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:43:51 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 27.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:43:51 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 61ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-17 11:44:07 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (9.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 38ms (Views: 34.6ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:44:08 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (23.1ms)
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.5ms)
  Rendered users/index.html.haml within layouts/application (86.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 141ms (Views: 119.9ms | ActiveRecord: 2.7ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-17 11:44:14 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "user"=>{"name"=>"test", "email"=>"test@test.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
WARNING: Can't mass-assign protected attributes for User: name, email, password, password_confirmation, role_ids
	app/controllers/users_controller.rb:22:in `update'
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 16ms (ActiveRecord: 1.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:44:14 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (69.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.7ms)
  Rendered users/index.html.haml within layouts/application (102.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.8ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 129ms (Views: 122.5ms | ActiveRecord: 2.2ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-17 11:44:17 +0400
Processing by RegistrationsController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered devise/registrations/edit.html.haml within layouts/application (7.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:44:18 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (6.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.0ms)
  Rendered users/index.html.haml within layouts/application (32.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 113ms (Views: 106.5ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:44:22 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (6.4ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.7ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.2ms)
  Rendered users/index.html.haml within layouts/application (34.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.3ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 60ms (Views: 53.0ms | ActiveRecord: 2.3ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-17 11:44:26 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "user"=>{"name"=>"test", "email"=>"test@test.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes for User: name, email, password, password_confirmation, role_ids
	app/controllers/users_controller.rb:22:in `update'
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/users
Completed 302 Found in 18ms (ActiveRecord: 1.0ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:44:26 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.5ms)
  Rendered users/index.html.haml within layouts/application (32.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 59ms (Views: 50.9ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:45:25 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (7.9ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (61.6ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.4ms)
  Rendered users/index.html.haml within layouts/application (112.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 201ms (Views: 131.2ms | ActiveRecord: 4.2ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-17 11:45:29 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "user"=>{"name"=>"test", "email"=>"test@test.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "3"]]
  [1m[35m (0.1ms)[0m  begin transaction
WARNING: Can't mass-assign protected attributes for User: name, email, password, password_confirmation, role_ids
	app/controllers/users_controller.rb:22:in `update'
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 21ms (ActiveRecord: 1.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:45:29 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (6.6ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.1ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.0ms)
  Rendered users/index.html.haml within layouts/application (32.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 58ms (Views: 51.0ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:45:31 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (6.2ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.8ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.1ms)
  Rendered users/index.html.haml within layouts/application (33.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 58ms (Views: 51.1ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:45:33 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (7.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.5ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.4ms)
  Rendered users/index.html.haml within layouts/application (34.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 60ms (Views: 53.3ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:46:21 +0400
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (7.2ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (6.0ms)
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36m (0.1ms)[0m  [1mSELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  Rendered users/_user.html.haml (5.2ms)
  Rendered users/index.html.haml within layouts/application (53.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 205ms (Views: 72.6ms | ActiveRecord: 4.3ms)


Started PUT "/users/3" for 127.0.0.1 at 2014-01-17 11:46:25 +0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "user"=>{"name"=>"test", "email"=>"test@test.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role_ids"=>"3"}, "commit"=>"Изменить роль", "id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "3"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes for User: name, email, password, password_confirmation, role_ids
	app/controllers/users_controller.rb:22:in `update'
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/users
Completed 302 Found in 79ms (ActiveRecord: 1.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:46:25 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.7ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.5ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.3ms)
  Rendered users/index.html.haml within layouts/application (33.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 60ms (Views: 52.1ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:46:27 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.3ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.2ms)
  Rendered users/index.html.haml within layouts/application (32.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 58ms (Views: 51.0ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 11:46:28 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.1ms)
  Rendered users/index.html.haml within layouts/application (32.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 59ms (Views: 51.0ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:46:30 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (74.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 103ms (Views: 95.2ms | ActiveRecord: 0.9ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:46:30 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:46:41 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:46:41 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:46:41 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:46:42 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:46:42 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:46:42 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:46:43 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:46:43 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.9ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-17 11:46:44 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (7.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 35ms (Views: 31.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:46:44 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:46:44 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:46:45 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (60.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 84ms (Views: 81.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:46:46 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.4ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 11:46:49 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 11:46:49 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUserToBoxe (20140117074950)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "boxes" ADD "user_id" integer[0m
SQLite3::SQLException: no such table: boxes: ALTER TABLE "boxes" ADD "user_id" integer
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUserToBoxe (20140117074950)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "uploads" ADD "user_id" integer[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140117074950"]]
  [1m[36m (120.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"


Started GET "/" for 127.0.0.1 at 2014-01-17 12:00:38 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Completed 404 Not Found in 125ms

ActiveRecord::RecordNotFound - Couldn't find User without an ID:
  activerecord (4.0.0) lib/active_record/relation/finder_methods.rb:266:in `find_with_ids'
  activerecord (4.0.0) lib/active_record/relation/finder_methods.rb:35:in `find'
  activerecord-deprecated_finders (1.0.3) lib/active_record/deprecated_finders/relation.rb:122:in `find'
  activerecord (4.0.0) lib/active_record/querying.rb:3:in `find'
  app/controllers/uploads_controller.rb:68:in `load_user'
  activesupport (4.0.0) lib/active_support/callbacks.rb:417:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/40223060/variables" for 127.0.0.1 at 2014-01-17 12:00:38 +0400
  [1m[36mUpload Load (0.6ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" ORDER BY "uploads"."id" ASC LIMIT 1
  [1m[36mSQL (200.2ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = 26[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads"


Started GET "/" for 127.0.0.1 at 2014-01-17 12:02:39 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 404 Not Found in 4ms

ActiveRecord::RecordNotFound - Couldn't find User without an ID:
  activerecord (4.0.0) lib/active_record/relation/finder_methods.rb:266:in `find_with_ids'
  activerecord (4.0.0) lib/active_record/relation/finder_methods.rb:35:in `find'
  activerecord-deprecated_finders (1.0.3) lib/active_record/deprecated_finders/relation.rb:122:in `find'
  activerecord (4.0.0) lib/active_record/querying.rb:3:in `find'
  app/controllers/uploads_controller.rb:68:in `load_user'
  activesupport (4.0.0) lib/active_support/callbacks.rb:417:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/37971520/variables" for 127.0.0.1 at 2014-01-17 12:02:39 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 12:02:40 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
Completed 404 Not Found in 4ms

ActiveRecord::RecordNotFound - Couldn't find User without an ID:
  activerecord (4.0.0) lib/active_record/relation/finder_methods.rb:266:in `find_with_ids'
  activerecord (4.0.0) lib/active_record/relation/finder_methods.rb:35:in `find'
  activerecord-deprecated_finders (1.0.3) lib/active_record/deprecated_finders/relation.rb:122:in `find'
  activerecord (4.0.0) lib/active_record/querying.rb:3:in `find'
  app/controllers/uploads_controller.rb:68:in `load_user'
  activesupport (4.0.0) lib/active_support/callbacks.rb:417:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/36786620/variables" for 127.0.0.1 at 2014-01-17 12:02:40 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 12:02:40 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 404 Not Found in 6ms

ActiveRecord::RecordNotFound - Couldn't find User without an ID:
  activerecord (4.0.0) lib/active_record/relation/finder_methods.rb:266:in `find_with_ids'
  activerecord (4.0.0) lib/active_record/relation/finder_methods.rb:35:in `find'
  activerecord-deprecated_finders (1.0.3) lib/active_record/deprecated_finders/relation.rb:122:in `find'
  activerecord (4.0.0) lib/active_record/querying.rb:3:in `find'
  app/controllers/uploads_controller.rb:68:in `load_user'
  activesupport (4.0.0) lib/active_support/callbacks.rb:417:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/40355400/variables" for 127.0.0.1 at 2014-01-17 12:02:40 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 12:03:26 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (16.9ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (153.5ms)
Completed 500 Internal Server Error in 412ms

NoMethodError - undefined method `uploads_path' for #<#<Class:0x00000004b90da8>:0x00000004b8e968>:
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:129:in `polymorphic_url'
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:135:in `polymorphic_path'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:452:in `apply_form_for_options!'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:426:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/uploads/index.html.haml:3:in `_app_views_uploads_index_html_haml___1204474000441694530_38764380'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/38899120/variables" for 127.0.0.1 at 2014-01-17 12:03:27 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 12:03:57 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (65.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (94.1ms)
  Rendered layouts/_navigation.html.haml (98.2ms)
  Rendered layouts/_messages.html.haml (3.0ms)
Completed 200 OK in 411ms (Views: 404.7ms | ActiveRecord: 1.5ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:03:58 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:03:59 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (54.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 80ms (Views: 76.2ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:03:59 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:04:04 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f8d48d9bca0 @tempfile=#<File:/tmp/RackMultipart20140117-13789-zd38km>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "user_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (83.1ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 12:04:04 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:04:04 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 12:04:04 MSK +04:00], ["user_id", 2]]
  [1m[36m (124.5ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 242ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d48db16b8>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:45:in `block (2 levels) in create'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:38:in `create'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:04:06 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (3.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 31ms (Views: 24.3ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:04:06 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
Completed 500 Internal Server Error in 30ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d48efc180>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:04:07 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 23.4ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:04:08 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
Completed 500 Internal Server Error in 9ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d482853c0>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m


Started GET "/" for 127.0.0.1 at 2014-01-17 12:06:08 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 23.3ms | ActiveRecord: 0.6ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:06:08 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
Completed 500 Internal Server Error in 9ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d48dd8178>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:06:09 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 23.1ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:06:09 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
Completed 500 Internal Server Error in 9ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d49031870>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:06:09 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 23.2ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:06:09 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
Completed 500 Internal Server Error in 62ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d3435b8d0>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:06:09 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 22.8ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:06:10 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
Completed 500 Internal Server Error in 8ms

NoMethodError - undefined method `upload_path' for #<Upload:0x00000004b33658>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:06:10 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (4.5ms)
  Rendered layouts/_navigation.html.haml (5.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 24.1ms | ActiveRecord: 0.6ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:06:10 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
Completed 500 Internal Server Error in 9ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d48196040>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:06:10 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 22.4ms | ActiveRecord: 0.6ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:06:10 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
Completed 500 Internal Server Error in 10ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d4826c208>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"


Started POST "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:06:38 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f8d48ce1300 @tempfile=#<File:/tmp/RackMultipart20140117-13789-1r4155i>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "user_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 12:06:38 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:06:38 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 12:06:38 MSK +04:00], ["user_id", 2]]
  [1m[36m (116.1ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 189ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d48cedc68>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:45:in `block (2 levels) in create'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:38:in `create'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:06:41 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 23.8ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:06:41 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
Completed 500 Internal Server Error in 29ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d48e92668>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" ORDER BY "uploads"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" ORDER BY "uploads"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" ORDER BY "uploads"."id" DESC LIMIT 1


Started GET "/" for 127.0.0.1 at 2014-01-17 12:09:15 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (4.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (15.8ms)
  Rendered layouts/_navigation.html.haml (16.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 132ms (Views: 38.7ms | ActiveRecord: 3.0ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:09:16 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from block (2 levels) in index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:11)
Completed 500 Internal Server Error in 11ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d48cc60f0>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:09:16 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 24.0ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:09:17 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from block (2 levels) in index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:11)
Completed 500 Internal Server Error in 9ms

NoMethodError - undefined method `upload_path' for #<Upload:0x00000004c32108>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:09:17 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 23.4ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:09:18 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from block (2 levels) in index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:11)
Completed 500 Internal Server Error in 11ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d490733d8>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:09:23 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f8d34293510 @tempfile=#<File:/tmp/RackMultipart20140117-13789-bxkxj0>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "user_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 12:09:23 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:09:23 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 12:09:23 MSK +04:00], ["user_id", 2]]
  [1m[36m (303.2ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 382ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d342abd40>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:45:in `block (2 levels) in create'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:38:in `create'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:09:25 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 22.8ms | ActiveRecord: 0.8ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:09:25 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from block (2 levels) in index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:11)
Completed 500 Internal Server Error in 24ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f8d48e87538>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:11:in `block (3 levels) in index'
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__2615889376877493376__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2501677541546354166__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  [1m[36mUser Load (5.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]


Started GET "/" for 127.0.0.1 at 2014-01-17 12:14:39 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (5.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.4ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (67.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (87.4ms)
  Rendered layouts/_navigation.html.haml (91.3ms)
  Rendered layouts/_messages.html.haml (46.7ms)
Completed 200 OK in 788ms (Views: 529.3ms | ActiveRecord: 8.4ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:14:40 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?  [["user_id", 2]]
Completed 500 Internal Server Error in 14ms

NoMethodError - undefined method `map' for false:FalseClass:
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:14:41 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 23.8ms | ActiveRecord: 0.7ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:14:42 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
Completed 500 Internal Server Error in 16ms

NoMethodError - undefined method `map' for false:FalseClass:
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" ORDER BY "uploads"."id" ASC LIMIT 1[0m


Started POST "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:20:29 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f13e89f4d10 @tempfile=#<File:/tmp/RackMultipart20140117-14313-1r3zu4v>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "user_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `upload_content_type`
  [1m[36mSQL (35.1ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 17 Jan 2014 12:20:29 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:20:29 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 12:20:29 MSK +04:00], ["user_id", 2]]
  [1m[35m (143.5ms)[0m  commit transaction
Completed 500 Internal Server Error in 206ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f13e8bb2170>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:45:in `block (2 levels) in create'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:38:in `create'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started GET "/" for 127.0.0.1 at 2014-01-17 12:20:38 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (2.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 34ms (Views: 27.0ms | ActiveRecord: 0.9ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:20:38 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
Completed 500 Internal Server Error in 24ms

NoMethodError - undefined method `map' for false:FalseClass:
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:20:46 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f13e8a70eb0 @tempfile=#<File:/tmp/RackMultipart20140117-14313-vhe2rx>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "user_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `upload_content_type`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 17 Jan 2014 12:20:46 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:20:46 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 12:20:46 MSK +04:00], ["user_id", 2]]
  [1m[35m (138.8ms)[0m  commit transaction
Completed 500 Internal Server Error in 162ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f13e8a823b8>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:45:in `block (2 levels) in create'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:38:in `create'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m
  [1m[35mSQL (131.6ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = 27
  [1m[36mSQL (142.3ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = 28[0m
  [1m[35mSQL (175.6ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = 29
  [1m[36mSQL (117.2ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = 30[0m
  [1m[35mSQL (92.2ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = 31
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads"[0m


Started GET "/" for 127.0.0.1 at 2014-01-17 12:24:22 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
  Rendered uploads/index.html.haml within layouts/application (3.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 33ms (Views: 26.1ms | ActiveRecord: 1.0ms)


Started GET "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:24:23 +0400
Processing by UploadsController#index as JSON
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (9.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/nikita/mem/fileapp/app/controllers/uploads_controller.rb:7)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = ?[0m  [["user_id", 2]]
Completed 500 Internal Server Error in 24ms

NoMethodError - undefined method `map' for true:TrueClass:
  app/controllers/uploads_controller.rb:11:in `block (2 levels) in index'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/users/2/uploads" for 127.0.0.1 at 2014-01-17 12:24:27 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f13e8a42448 @tempfile=#<File:/tmp/RackMultipart20140117-14313-13j5n6y>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "user_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `upload_content_type`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 17 Jan 2014 12:24:27 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:24:27 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 12:24:27 MSK +04:00], ["user_id", 2]]
  [1m[35m (132.2ms)[0m  commit transaction
Completed 500 Internal Server Error in 162ms

NoMethodError - undefined method `upload_path' for #<Upload:0x007f13e8a4c998>:
  activemodel (4.0.0) lib/active_model/attribute_methods.rb:436:in `method_missing'
  activerecord (4.0.0) lib/active_record/attribute_methods.rb:131:in `method_missing'
  app/models/upload.rb:15:in `to_jq_upload'
  app/controllers/uploads_controller.rb:45:in `block (2 levels) in create'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:38:in `create'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads"
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):27)
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE (2)[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):28)
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE (2)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]


Started GET "/" for 127.0.0.1 at 2014-01-17 12:30:54 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
  Rendered uploads/index.html.haml within layouts/application (126.5ms)
Completed 500 Internal Server Error in 190ms

NoMethodError - undefined method `uploads_path' for #<#<Class:0x00000004a00920>:0x00000004a0b7a8>:
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:129:in `polymorphic_url'
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:135:in `polymorphic_path'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:452:in `apply_form_for_options!'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:426:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/uploads/index.html.haml:3:in `_app_views_uploads_index_html_haml___3306361215925906350_38817060'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:423:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/37205240/variables" for 127.0.0.1 at 2014-01-17 12:30:54 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 12:32:10 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
  Rendered uploads/index.html.haml within layouts/application (37.0ms)
Completed 500 Internal Server Error in 158ms

NoMethodError - undefined method `uploads_path' for #<#<Class:0x00000004a60708>:0x00000004a5eb88>:
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:129:in `polymorphic_url'
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:135:in `polymorphic_path'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:452:in `apply_form_for_options!'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:426:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/uploads/index.html.haml:3:in `_app_views_uploads_index_html_haml___3306361215925906350_38817060'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/69861737876940/variables" for 127.0.0.1 at 2014-01-17 12:32:10 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 12:32:11 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
  Rendered uploads/index.html.haml within layouts/application (14.7ms)
Completed 500 Internal Server Error in 21ms

NoMethodError - undefined method `uploads_path' for #<#<Class:0x00000004a60708>:0x00000004b3ffc0>:
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:129:in `polymorphic_url'
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:135:in `polymorphic_path'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:452:in `apply_form_for_options!'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:426:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/uploads/index.html.haml:3:in `_app_views_uploads_index_html_haml___3306361215925906350_38817060'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/38833900/variables" for 127.0.0.1 at 2014-01-17 12:32:11 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 12:32:12 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
  Rendered uploads/index.html.haml within layouts/application (16.0ms)
Completed 500 Internal Server Error in 23ms

NoMethodError - undefined method `uploads_path' for #<#<Class:0x00000004a60708>:0x00000004b541a0>:
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:129:in `polymorphic_url'
  actionpack (4.0.0) lib/action_dispatch/routing/polymorphic_routes.rb:135:in `polymorphic_path'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:452:in `apply_form_for_options!'
  actionpack (4.0.0) lib/action_view/helpers/form_helper.rb:426:in `form_for'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_mods.rb:146:in `form_for_with_haml'
  haml (4.1.0.alpha.2) lib/haml/helpers/action_view_xss_mods.rb:28:in `form_for_with_haml_xss'
  app/views/uploads/index.html.haml:3:in `_app_views_uploads_index_html_haml___3306361215925906350_38817060'
  actionpack (4.0.0) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/uploads_controller.rb:9:in `index'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:413:in `_run__3094805359178763563__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__3091843383397430602__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  quiet_assets (1.0.2) lib/quiet_assets.rb:18:in `call_with_quiet_assets'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/nikita/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'



Started POST "/__better_errors/38916140/variables" for 127.0.0.1 at 2014-01-17 12:32:13 +0400


Started POST "/__better_errors/38916140/variables" for 127.0.0.1 at 2014-01-17 12:32:14 +0400


Started GET "/" for 127.0.0.1 at 2014-01-17 12:32:58 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (25.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (11.7ms)
  Rendered layouts/_navigation.html.haml (12.7ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 179ms (Views: 54.3ms | ActiveRecord: 2.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:32:59 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:33:00 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:33:01 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 12:33:07 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f13e8af3c20 @tempfile=#<File:/tmp/RackMultipart20140117-14313-11epn9t>, @original_filename="back.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 12:33:07 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:33:07 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 12:33:07 MSK +04:00], ["user_id", 2]]
  [1m[36m (214.7ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 241ms (Views: 0.9ms | ActiveRecord: 216.1ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:33:09 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.2ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.1ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:33:10 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-17 12:33:13 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"77cWKioI5LWRlMlD4bfmq7wh6VnwHj2O6Cd7CeSebYc="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 364ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:33:14 +0400
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 12ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:33:14 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.4ms)
  Rendered devise/sessions/new.html.haml within layouts/application (139.9ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 181ms (Views: 173.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:33:27 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zUUIbE3GNZ6UoQA29cmbVlBNS7RZeEOIj5G7y31oPDk=", "user"=>{"email"=>"moderator@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'moderator@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (11.2ms)[0m  [1mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 5[0m  [["current_sign_in_at", Fri, 17 Jan 2014 12:33:28 MSK +04:00], ["sign_in_count", 2], ["updated_at", Fri, 17 Jan 2014 12:33:28 MSK +04:00]]
  [1m[35m (125.2ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 356ms (ActiveRecord: 137.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:33:28 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 5]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.5ms)
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:33:28 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 5
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:33:32 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 5]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:33:32 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 5
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 12:33:59 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6+GGQRoXNiJT5nzvWai7pE30o6lNZ8HxmuV2584HGs8=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x007f13e8a64570 @tempfile=#<File:/tmp/RackMultipart20140117-14313-1uoc5i0>, @original_filename="back_moderator.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"back_moderator.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `upload_content_type`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 17 Jan 2014 12:33:59 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:33:59 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "back_moderator.jpg"], ["upload_file_size", 67302], ["upload_updated_at", Fri, 17 Jan 2014 12:33:59 MSK +04:00], ["user_id", 5]]
  [1m[35m (138.9ms)[0m  commit transaction
Completed 201 Created in 161ms (Views: 0.8ms | ActiveRecord: 140.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:34:01 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 5]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:34:01 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 5
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "uploads"


Started GET "/" for 127.0.0.1 at 2014-01-17 12:34:27 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 5]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:34:28 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 5
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-17 12:34:29 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"6+GGQRoXNiJT5nzvWai7pE30o6lNZ8HxmuV2584HGs8="}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:34:30 +0400
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 2ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:34:30 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.6ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 29ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:34:33 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"z+YXVK2zYAi77VEKdX/Az0DTay6kcr4Y6JOuhSijwwI=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2  [["last_sign_in_at", Fri, 17 Jan 2014 10:33:03 MSK +04:00], ["current_sign_in_at", Fri, 17 Jan 2014 12:34:33 MSK +04:00], ["sign_in_count", 27], ["updated_at", Fri, 17 Jan 2014 12:34:33 MSK +04:00]]
  [1m[36m (117.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 221ms (ActiveRecord: 118.4ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:34:33 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.4ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 82ms (Views: 78.8ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:34:34 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 13ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:34:38 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:34:38 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:35:56 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.3ms)
  Rendered layouts/_navigation.html.haml (4.3ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 27ms (Views: 23.8ms | ActiveRecord: 0.6ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:35:57 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 17ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:35:57 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:35:57 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:48:32 +0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (132.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (181.9ms)
  Rendered layouts/_navigation.html.haml (185.7ms)
  Rendered layouts/_messages.html.haml (2.9ms)
Completed 200 OK in 820ms (Views: 650.7ms | ActiveRecord: 2.3ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:48:33 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 0.7ms)


Started DELETE "/uploads/33" for 127.0.0.1 at 2014-01-17 12:48:36 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"33"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.2ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1[0m  [["id", "33"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "uploads" WHERE "uploads"."id" = ?[0m  [["id", 33]]
  [1m[35m (116.2ms)[0m  commit transaction
[paperclip] deleting /home/nikita/mem/fileapp/public/system/uploads/uploads/000/000/033/original/back.jpg
Completed 204 No Content in 139ms (ActiveRecord: 117.2ms)


Started DELETE "/uploads/32" for 127.0.0.1 at 2014-01-17 12:48:37 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"32"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "32"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 32]]
  [1m[36m (117.4ms)[0m  [1mcommit transaction[0m
[paperclip] deleting /home/nikita/mem/fileapp/public/system/uploads/uploads/000/000/032/original/back.jpg
Completed 204 No Content in 128ms (ActiveRecord: 118.2ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 12:49:01 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NLos/g+eiyGvIvlQsTX7PA9UJbd94rbgh5YHxcxlCg8=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000003f914a8 @tempfile=#<File:/tmp/RackMultipart20140117-16182-pa3crp>, @original_filename="1252251145_jo-jo1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"1252251145_jo-jo1.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (59.5ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "1252251145_jo-jo1.jpg"], ["upload_file_size", 188294], ["upload_updated_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["user_id", 2]]
  [1m[36m (162.4ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 249ms (Views: 0.8ms | ActiveRecord: 222.5ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 12:49:01 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NLos/g+eiyGvIvlQsTX7PA9UJbd94rbgh5YHxcxlCg8=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000003b5a150 @tempfile=#<File:/tmp/RackMultipart20140117-16182-10ax6dj>, @original_filename="22_for_kids_pictures.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"22_for_kids_pictures.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "22_for_kids_pictures.jpg"], ["upload_file_size", 96582], ["upload_updated_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["user_id", 2]]
  [1m[36m (129.2ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 153ms (Views: 0.8ms | ActiveRecord: 130.5ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 12:49:01 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NLos/g+eiyGvIvlQsTX7PA9UJbd94rbgh5YHxcxlCg8=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000003bdba98 @tempfile=#<File:/tmp/RackMultipart20140117-16182-43ebbh>, @original_filename="Bankoboev.Ru_veselye_romashki.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"Bankoboev.Ru_veselye_romashki.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "Bankoboev.Ru_veselye_romashki.jpg"], ["upload_file_size", 290097], ["upload_updated_at", Fri, 17 Jan 2014 12:49:01 MSK +04:00], ["user_id", 2]]
  [1m[36m (126.9ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 153ms (Views: 1.3ms | ActiveRecord: 128.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:49:04 +0400
Processing by UploadsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 28ms (Views: 24.0ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:49:05 +0400
Processing by UploadsController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUpload Load (0.3ms)[0m  [1mSELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2[0m
Completed 200 OK in 19ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-17 12:49:06 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"NLos/g+eiyGvIvlQsTX7PA9UJbd94rbgh5YHxcxlCg8="}
  [1m[35mUser Load (1.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 271ms (ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:49:07 +0400
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 13ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:49:07 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (3.5ms)
  Rendered devise/sessions/new.html.haml within layouts/application (83.4ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.3ms)
  Rendered layouts/_messages.html.haml (0.4ms)
Completed 200 OK in 112ms (Views: 105.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:49:08 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.1ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.9ms)
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 30ms (Views: 26.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:49:11 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EpiDZWZWD2FXJHRaaq2nCTlhCLwnVT9jKVxXhsunrnE=", "user"=>{"email"=>"moderator@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'moderator@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 5[0m  [["last_sign_in_at", Fri, 17 Jan 2014 12:33:28 MSK +04:00], ["current_sign_in_at", Fri, 17 Jan 2014 12:49:11 MSK +04:00], ["sign_in_count", 3], ["updated_at", Fri, 17 Jan 2014 12:49:11 MSK +04:00]]
  [1m[35m (130.3ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 303ms (ActiveRecord: 131.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:49:12 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 5]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:49:12 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 5
Completed 200 OK in 75ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started DELETE "/uploads/34" for 127.0.0.1 at 2014-01-17 12:49:18 +0400
Processing by UploadsController#destroy as JSON
  Parameters: {"id"=>"34"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.1ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."id" = ? LIMIT 1  [["id", "34"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "uploads" WHERE "uploads"."id" = ?  [["id", 34]]
  [1m[36m (132.9ms)[0m  [1mcommit transaction[0m
[paperclip] deleting /home/nikita/mem/fileapp/public/system/uploads/uploads/000/000/034/original/back_moderator.jpg
Completed 204 No Content in 144ms (ActiveRecord: 133.7ms)


Started POST "/uploads" for 127.0.0.1 at 2014-01-17 12:49:24 +0400
Processing by UploadsController#create as JSON
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mlAGwRFFvXoDPt/Z83T9NQECDu+WYs75bJCVd1JRnMg=", "upload"=>{"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000003c3e350 @tempfile=#<File:/tmp/RackMultipart20140117-16182-1cmo685>, @original_filename="005_joke.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"upload[upload]\"; filename=\"005_joke.jpg\"\r\nContent-Type: image/jpeg\r\n">}}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `upload_content_type`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "uploads" ("created_at", "updated_at", "upload_content_type", "upload_file_name", "upload_file_size", "upload_updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 12:49:24 MSK +04:00], ["updated_at", Fri, 17 Jan 2014 12:49:24 MSK +04:00], ["upload_content_type", "image/jpeg"], ["upload_file_name", "005_joke.jpg"], ["upload_file_size", 60141], ["upload_updated_at", Fri, 17 Jan 2014 12:49:24 MSK +04:00], ["user_id", 5]]
  [1m[36m (135.6ms)[0m  [1mcommit transaction[0m
Completed 201 Created in 168ms (Views: 0.8ms | ActiveRecord: 137.1ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-17 12:49:25 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"mlAGwRFFvXoDPt/Z83T9NQECDu+WYs75bJCVd1JRnMg="}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:49:25 +0400
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 2ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:49:25 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.6ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.6ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:49:31 +0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"r1QglC/JrMGNtpCiuJp7uP3aK5cXSe6YnHeyXSkM05E=", "user"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mail.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["last_sign_in_at", Fri, 17 Jan 2014 12:34:33 MSK +04:00], ["current_sign_in_at", Fri, 17 Jan 2014 12:49:31 MSK +04:00], ["sign_in_count", 28], ["updated_at", Fri, 17 Jan 2014 12:49:31 MSK +04:00]]
  [1m[35m (120.6ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 279ms (ActiveRecord: 121.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:49:31 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:49:32 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:49:34 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:49:34 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2
Completed 200 OK in 14ms (Views: 0.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:51:58 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:51:59 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.5ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 1.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-17 12:51:59 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (70.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (6.8ms)
  Rendered layouts/_navigation.html.haml (11.0ms)
  Rendered layouts/_messages.html.haml (3.0ms)
Completed 200 OK in 108ms (Views: 104.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:52:05 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.1ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:52:05 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.5ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2
Completed 200 OK in 15ms (Views: 0.7ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:52:06 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (3.0ms)
  Rendered layouts/_navigation.html.haml (4.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:52:06 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.3ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.7ms)


Started GET "/users/edit" for 127.0.0.1 at 2014-01-17 12:52:07 +0400
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered devise/registrations/edit.html.haml within layouts/application (7.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (4.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 34ms (Views: 30.6ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 12:52:08 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.9ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (87.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.1ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.3ms)
  Rendered users/index.html.haml within layouts/application (136.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 165ms (Views: 154.4ms | ActiveRecord: 3.3ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 12:52:13 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.2ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.2ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.2ms)
  Rendered users/index.html.haml within layouts/application (32.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.4ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 57ms (Views: 51.0ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 12:52:14 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.9ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.1ms)
  Rendered users/index.html.haml within layouts/application (32.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.1ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 57ms (Views: 50.6ms | ActiveRecord: 2.1ms)


Started GET "/users" for 127.0.0.1 at 2014-01-17 12:52:15 +0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (6.0ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.4ms)
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? ORDER BY "roles"."id" ASC LIMIT 1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT "roles".id FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  Rendered users/_user.html.haml (5.0ms)
  Rendered users/index.html.haml within layouts/application (32.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.0ms)
  Rendered layouts/_navigation.html.haml (3.0ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 56ms (Views: 50.1ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:52:25 +0400
Processing by UploadsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  Rendered uploads/index.html.haml within layouts/application (2.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 2]]
  Rendered layouts/_navigation_links.html.haml (2.9ms)
  Rendered layouts/_navigation.html.haml (3.9ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.5ms)


Started GET "/uploads" for 127.0.0.1 at 2014-01-17 12:52:25 +0400
Processing by UploadsController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUpload Load (0.2ms)[0m  SELECT "uploads".* FROM "uploads" WHERE "uploads"."user_id" = 2
Completed 200 OK in 13ms (Views: 0.8ms | ActiveRecord: 0.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2014-01-17 12:52:26 +0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"sn7j8jN60xzmQb5UZDBAiu3t8EgZh1/MiOBbY5NCGNg="}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2014-01-17 12:52:26 +0400
Processing by UploadsController#index as HTML
Completed 401 Unauthorized in 2ms


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:52:26 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (58.1ms)
  Rendered layouts/_navigation_links.html.haml (2.1ms)
  Rendered layouts/_navigation.html.haml (3.2ms)
  Rendered layouts/_messages.html.haml (0.3ms)
Completed 200 OK in 81ms (Views: 78.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2014-01-17 12:52:28 +0400
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.haml (0.2ms)
  Rendered devise/sessions/new.html.haml within layouts/application (5.6ms)
  Rendered layouts/_navigation_links.html.haml (2.2ms)
  Rendered layouts/_navigation.html.haml (3.5ms)
  Rendered layouts/_messages.html.haml (0.2ms)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.0ms)
